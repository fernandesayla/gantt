{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///frappe-gantt.min.js","webpack:///webpack/bootstrap 136012a56209631393fb","webpack:///./src/Gantt.js","webpack:///./src/gantt.scss?b27d","webpack:///./src/gantt.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/Bar.js","webpack:///./src/Arrow.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Gantt","element","projects","config","init","set_defaults","self","change_view_mode","unselect_all","view_is","get_bar","trigger_event","refresh","view_mode","defaults","header_height","column_width","step","view_modes","bar","height","arrow","curve","padding","date_format","custom_popup_html","left_menu_width","inline","Object","assign","reset_variables","_tasks","forEach","project","concat","tasks","_projects","_rows","length","_bars","_arrows","element_groups","updated_tasks","mode","prepare","set_scale","render","prepare_tasks","prepare_projects","prepare_dependencies","prepare_dates","prepare_canvas","map","task","i","_start","moment","start","_end","end","_index","startOf","add","clone","invalid","dependencies","deps","split","d","trim","filter","generate_id","previousTask","newProject","projectId","_line","rows","nextTask","_firstRow","_lastRow","_lastDate","get_max_date","currentTask","_currentDate","get_date_progress","_late","diff","name","custom_class","responsaveis","uors","periodos","dataInicio","dataFim","tipo","nome","push","dependency_map","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","t","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","err","gantt_start","gantt_end","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","set_gantt_dates","setup_dates","canvas","Snap","addClass","clear","setup_groups","make_grid","make_dates","make_bars","make_arrows","make_projects","map_arrows_on_bars","set_width","set_scroll_position","bind_grid_click","subtract","endOf","dates","cur_date","groups","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","group","attr","scale","screen_width","min_width","cur_width","node","getBoundingClientRect","width","actual_width","parseFloat","select","parent_element","document","querySelector","parentElement","scroll_pos","get_min_date","scrollLeft","reduce","acc","curr","isSameOrBefore","isSameOrAfter","make_grid_background","make_grid_header","make_grid_rows","make_grid_ticks","make_grid_highlights","grid_width","grid_height","rect","appendTo","grid","header_width","lines","row_width","row_height","row_y","index","line","text","current","late","x","path","format","y","tick_x","tick_height","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","date","tick_y","tick_class","day","month","daysInMonth","getBBox","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","get_dates_to_draw","lower_x","upper_x","lower_y","lower_text","upper_text","$upper_text","upper_y","x2","remove","last_date","get_date_info","min_width_month","date_text","Quarter Day_lower","Half Day_lower","Day_lower","Week_lower","Month_lower","Quarter Day_upper","Half Day_upper","Day_upper","Week_upper","Month_upper","year","base_pos","x_pos","duration","progress","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_loop","arrows","dep","dependency","get_task","_Arrow2","arr","_iterator7","_Bar2","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_loop2","from_task","to_task","_iterator8","click","details","selectAll","el","removeClass","modes","Array","isArray","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","find","Math","random","toString","slice","event","args","apply","defineProperty","_Bar","_Arrow","content","locals","version","sources","names","mappings","file","sourcesContent","sourceRoot","list","result","item","join","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","Error","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","type","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","arguments","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","Boolean","Bar","gt","draw","action_completed","prepare_values","prepare_plugins","compute_x","compute_y","corner_radius","durationDays","progress_width","bar_group","handle_group","plugin","Element","Paper","global","Fragment","prototype","getX","getY","getWidth","getHeight","getEndX","draw_bar","draw_progress_bar","draw_label","draw_resize_handles","$bar","$bar_progress","update_label_position","handle_width","polygon","get_progress_polygon_points","bar_progress","setup_click_event","show_details","bind_resize","bind_drag","bind_resize_progress","popover_group","details_box","render_details","f","shadow","e","_get_details_position","get_details_position","transform","html","get_details_html","foreign_object","parse","append","isFunction","heading","line_1","line_2","periodo","responsavel","chave","ramal","telefone","celular","link","uor","nomeReduzido","uor_id","onmove_right","dx","dy","onmove_handle_right","onstop_right","onstop_handle_right","onmove_left","onmove_handle_left","onstop_left","onstop_handle_left","_get_handles","get_handles","left","right","drag","onstart","onmove","onstop","on_move","max_dx","min_dx","owidth","handle","finaldx","on_stop","progress_changed","set_action_completed","on_start","ox","oy","run_method_for_dependencies","get_snap_position","update_bar_position","date_changed","dm","deptask","dt","_ref","_ref$x","_ref$width","xs","valid_x","prev","update_attr","update_handle_position","update_progressbar_position","update_arrow_position","update_details_position","hasClass","toggleClass","_compute_start_end_da","compute_start_end_date","new_start_date","new_end_date","new_progress","compute_progress","setTimeout","x_in_units","width_in_units","parseInt","odx","rem","position","isNaN","label","_get_details_position2","functionToCheck","getType","Arrow","start_x","condition","start_y","end_x","end_y","from_is_below_to","clockwise","curve_y","offset","down_1","down_2"],"mappings":"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","file":"frappe-gantt.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Gantt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gantt\"] = factory();\n\telse\n\t\troot[\"Gantt\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Gantt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gantt\"] = factory();\n\telse\n\t\troot[\"Gantt\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = Gantt;\n\t\n\t__webpack_require__(1);\n\t\n\tvar _Bar = __webpack_require__(5);\n\t\n\tvar _Bar2 = _interopRequireDefault(_Bar);\n\t\n\tvar _Arrow = __webpack_require__(6);\n\t\n\tvar _Arrow2 = _interopRequireDefault(_Arrow);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Gantt(element, projects, config) {\n\t\n\t\tvar self = {};\n\t\n\t\tfunction init() {\n\t\t\tset_defaults();\n\t\n\t\t\t// expose methods\n\t\t\tself.change_view_mode = change_view_mode;\n\t\t\tself.unselect_all = unselect_all;\n\t\t\tself.view_is = view_is;\n\t\t\tself.get_bar = get_bar;\n\t\t\tself.trigger_event = trigger_event;\n\t\t\tself.refresh = refresh;\n\t\n\t\t\t// initialize with default view mode\n\t\t\tchange_view_mode(self.config.view_mode);\n\t\t}\n\t\n\t\tfunction set_defaults() {\n\t\n\t\t\tvar defaults = {\n\t\t\t\theader_height: 50,\n\t\t\t\tcolumn_width: 30,\n\t\t\t\tstep: 24,\n\t\t\t\tview_modes: ['Quarter Day', 'Half Day', 'Day', 'Week', 'Month'],\n\t\t\t\tbar: {\n\t\t\t\t\theight: 20\n\t\t\t\t},\n\t\t\t\tarrow: {\n\t\t\t\t\tcurve: 5\n\t\t\t\t},\n\t\t\t\tpadding: 18,\n\t\t\t\tview_mode: 'Month',\n\t\t\t\tdate_format: 'YYYY-MM-DD',\n\t\t\t\tcustom_popup_html: null,\n\t\t\t\tleft_menu_width: 0,\n\t\t\t\tinline: true\n\t\t\t};\n\t\t\tself.config = Object.assign({}, defaults, config);\n\t\n\t\t\treset_variables();\n\t\t}\n\t\n\t\tfunction reset_variables() {\n\t\t\tself.element = element;\n\t\t\tself._tasks = [];\n\t\t\tprojects.forEach(function (project) {\n\t\t\t\treturn self._tasks = self._tasks.concat(project.tasks);\n\t\t\t});\n\t\t\tself._projects = projects;\n\t\t\tself._projects._rows = self._tasks.length;\n\t\t\tself._bars = [];\n\t\t\tself._arrows = [];\n\t\t\tself.element_groups = {};\n\t\t}\n\t\n\t\tfunction refresh(updated_tasks) {\n\t\t\treset_variables(updated_tasks);\n\t\t\tchange_view_mode(self.config.view_mode);\n\t\t}\n\t\n\t\tfunction change_view_mode(mode) {\n\t\t\tprepare();\n\t\t\tset_scale(mode);\n\t\t\trender();\n\t\t\t// fire viewmode_change event\n\t\t\ttrigger_event('view_change', [mode]);\n\t\t}\n\t\n\t\tfunction prepare() {\n\t\t\tprepare_tasks();\n\t\t\tprepare_projects();\n\t\t\tprepare_dependencies();\n\t\t\tprepare_dates();\n\t\t\tprepare_canvas();\n\t\t}\n\t\n\t\tfunction prepare_tasks() {\n\t\n\t\t\t// prepare tasks\n\t\t\tself.tasks = self._tasks.map(function (task, i) {\n\t\n\t\t\t\t// momentify\n\t\t\t\ttask._start = moment(task.start, self.config.date_format);\n\t\t\t\ttask._end = moment(task.end, self.config.date_format);\n\t\n\t\t\t\t// cache index\n\t\t\t\ttask._index = i;\n\t\n\t\t\t\t// invalid dates\n\t\t\t\tif (!task.start && !task.end) {\n\t\t\t\t\ttask._start = moment().startOf('day');\n\t\t\t\t\ttask._end = moment().startOf('day').add(2, 'days');\n\t\t\t\t}\n\t\t\t\tif (!task.start && task.end) {\n\t\t\t\t\ttask._start = task._end.clone().add(-2, 'days');\n\t\t\t\t}\n\t\t\t\tif (task.start && !task.end) {\n\t\t\t\t\ttask._end = task._start.clone().add(2, 'days');\n\t\t\t\t}\n\t\n\t\t\t\t// invalid flag\n\t\t\t\tif (!task.start || !task.end) {\n\t\t\t\t\ttask.invalid = true;\n\t\t\t\t}\n\t\n\t\t\t\t// dependencies\n\t\t\t\tif (typeof task.dependencies === 'string' || !task.dependencies) {\n\t\t\t\t\tvar deps = [];\n\t\t\t\t\tif (task.dependencies) {\n\t\t\t\t\t\tdeps = task.dependencies.split(',').map(function (d) {\n\t\t\t\t\t\t\treturn d.trim();\n\t\t\t\t\t\t}).filter(function (d) {\n\t\t\t\t\t\t\treturn d;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\ttask.dependencies = deps;\n\t\t\t\t}\n\t\n\t\t\t\t// uids\n\t\t\t\tif (!task.id) {\n\t\t\t\t\ttask.id = generate_id(task);\n\t\t\t\t}\n\t\n\t\t\t\t// inline\n\t\t\t\tif (self.config.inline) {\n\t\t\t\t\tvar previousTask = self._tasks[i - 1];\n\t\t\t\t\tvar newProject = previousTask && task.projectId !== previousTask.projectId;\n\t\n\t\t\t\t\tif (!previousTask) {\n\t\t\t\t\t\ttask._line = 0;\n\t\t\t\t\t} else if (previousTask._end < task._start && !newProject) {\n\t\t\t\t\t\ttask._line = previousTask._line;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttask._line = previousTask._line + 1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttask._line = task._index;\n\t\t\t\t}\n\t\n\t\t\t\treturn task;\n\t\t\t});\n\t\t}\n\t\n\t\tfunction prepare_projects() {\n\t\n\t\t\tvar rows = 0;\n\t\n\t\t\tself._projects.forEach(function (project, i) {\n\t\n\t\t\t\tvar tasks = project.tasks;\n\t\n\t\t\t\ttasks.forEach(function (task, i) {\n\t\t\t\t\tvar nextTask = tasks[i + 1];\n\t\t\t\t\tif (i === 0) project._firstRow = task._line;\n\t\t\t\t\tif (!nextTask) {\n\t\t\t\t\t\tproject._lastRow = task._line;\n\t\t\t\t\t\tproject._lastDate = get_max_date(project.tasks);\n\t\t\t\t\t}\n\t\t\t\t\tif (task.currentTask) project._currentDate = get_date_progress(task);\n\t\t\t\t});\n\t\n\t\t\t\tproject._late = moment().diff(project._currentDate, 'days');\n\t\n\t\t\t\tif (project._late > 0) {\n\t\n\t\t\t\t\tvar start = moment(project._lastDate, self.config.date_format).clone().add(1, 'days');\n\t\t\t\t\tvar end = moment(project._lastDate, self.config.date_format).clone().add(project._late, 'days');\n\t\n\t\t\t\t\tvar task = {\n\t\t\t\t\t\tprojectId: project.id,\n\t\t\t\t\t\tid: self.tasks.length + 1,\n\t\t\t\t\t\tname: 'Projeção de Término',\n\t\t\t\t\t\t_start: start,\n\t\t\t\t\t\t_end: end,\n\t\t\t\t\t\t_line: project._lastRow,\n\t\t\t\t\t\tcustom_class: 'late',\n\t\t\t\t\t\tdependencies: [],\n\t\t\t\t\t\tresponsaveis: [],\n\t\t\t\t\t\tuors: [],\n\t\t\t\t\t\tperiodos: [{\n\t\t\t\t\t\t\tdataInicio: start,\n\t\t\t\t\t\t\tdataFim: end,\n\t\n\t\t\t\t\t\t\ttipo: {\n\t\t\t\t\t\t\t\tnome: 'Previsão'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t};\n\t\t\t\t\tself.tasks.push(task);\n\t\t\t\t}\n\t\n\t\t\t\tproject._rows = project._lastRow - project._firstRow + 1;\n\t\t\t\trows += project._rows;\n\t\t\t});\n\t\t\tself._projects._rows = rows;\n\t\t}\n\t\n\t\tfunction prepare_dependencies() {\n\t\n\t\t\tself.dependency_map = {};\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = self.tasks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar t = _step.value;\n\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\tvar _iteratorError2 = undefined;\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator2 = t.dependencies[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\tvar d = _step2.value;\n\t\n\t\t\t\t\t\t\tself.dependency_map[d] = self.dependency_map[d] || [];\n\t\t\t\t\t\t\tself.dependency_map[d].push(t.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction prepare_dates() {\n\t\n\t\t\tself.gantt_start = self.gantt_end = null;\n\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\tvar _didIteratorError3 = false;\n\t\t\tvar _iteratorError3 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator3 = self.tasks[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\tvar task = _step3.value;\n\t\n\t\t\t\t\t// set global start and end date\n\t\t\t\t\tif (!self.gantt_start || task._start < self.gantt_start) {\n\t\t\t\t\t\tself.gantt_start = task._start;\n\t\t\t\t\t}\n\t\t\t\t\tif (!self.gantt_end || task._end > self.gantt_end) {\n\t\t\t\t\t\tself.gantt_end = task._end;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t_iteratorError3 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tset_gantt_dates();\n\t\t\tsetup_dates();\n\t\t}\n\t\n\t\tfunction prepare_canvas() {\n\t\t\tif (self.canvas) return;\n\t\t\tself.canvas = Snap(self.element).addClass('gantt');\n\t\t}\n\t\n\t\tfunction render() {\n\t\t\tclear();\n\t\t\tsetup_groups();\n\t\t\tmake_grid();\n\t\t\tmake_dates();\n\t\t\tmake_bars();\n\t\t\tmake_arrows();\n\t\t\tmake_projects();\n\t\t\tmap_arrows_on_bars();\n\t\t\tset_width();\n\t\t\tset_scroll_position();\n\t\t\tbind_grid_click();\n\t\t}\n\t\n\t\tfunction clear() {\n\t\t\tself.canvas.clear();\n\t\t\tself._bars = [];\n\t\t\tself._arrows = [];\n\t\t}\n\t\n\t\tfunction set_gantt_dates() {\n\t\n\t\t\tif (view_is(['Quarter Day', 'Half Day'])) {\n\t\t\t\tself.gantt_start = self.gantt_start.clone().subtract(7, 'day');\n\t\t\t\tself.gantt_end = self.gantt_end.clone().add(7, 'day');\n\t\t\t} else if (view_is('Month')) {\n\t\t\t\tself.gantt_start = self.gantt_start.clone().startOf('month').subtract(1, 'Month');\n\t\t\t\t// self.gantt_end = self.gantt_end.clone().endOf('month').add(1, 'year');\n\t\t\t\tself.gantt_end = self.gantt_end.clone().endOf('month');\n\t\t\t} else {\n\t\t\t\tself.gantt_start = self.gantt_start.clone().subtract(3, 'days'); // .startOf('month');\n\t\t\t\tself.gantt_end = self.gantt_end.clone().add(3, 'days'); // .endOf('month');\n\t\t\t}\n\t\t}\n\t\n\t\tfunction setup_dates() {\n\t\n\t\t\tself.dates = [];\n\t\t\tvar cur_date = null;\n\t\n\t\t\twhile (cur_date === null || cur_date < self.gantt_end) {\n\t\t\t\tif (!cur_date) {\n\t\t\t\t\tcur_date = self.gantt_start.clone();\n\t\t\t\t} else {\n\t\t\t\t\tcur_date = view_is('Month') ? cur_date.clone().add(1, 'month') : cur_date.clone().add(self.config.step, 'hours');\n\t\t\t\t}\n\t\t\t\tself.dates.push(cur_date);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction setup_groups() {\n\t\n\t\t\tvar groups = ['grid', 'project', 'date', 'arrow', 'progress', 'bar', 'details'];\n\t\t\t// make group layers\n\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\tvar _didIteratorError4 = false;\n\t\t\tvar _iteratorError4 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator4 = groups[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\tvar group = _step4.value;\n\t\n\t\t\t\t\tself.element_groups[group] = self.canvas.group().attr({ 'id': group });\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t_iteratorError4 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction set_scale(scale) {\n\t\t\tself.config.view_mode = scale;\n\t\t\tvar screen_width = 1832 - self.config.left_menu_width;\n\t\t\tvar min_width = 0;\n\t\t\tself.config.column_width = screen_width / self.dates.length;\n\t\n\t\t\tif (scale === 'Day') {\n\t\t\t\tmin_width = 18;\n\t\t\t\tself.config.step = 24;\n\t\t\t} else if (scale === 'Half Day') {\n\t\t\t\tmin_width = 38;\n\t\t\t\tself.config.step = 24 / 2;\n\t\t\t} else if (scale === 'Quarter Day') {\n\t\t\t\tmin_width = 38;\n\t\t\t\tself.config.step = 24 / 4;\n\t\t\t} else if (scale === 'Week') {\n\t\t\t\tmin_width = 140;\n\t\t\t\tself.config.step = 24 * 7;\n\t\t\t} else if (scale === 'Month') {\n\t\t\t\tmin_width = 20;\n\t\t\t\tself.config.step = 24 * 30;\n\t\t\t}\n\t\t\tself.config.column_width = self.config.column_width < min_width ? min_width : self.config.column_width;\n\t\t}\n\t\n\t\tfunction set_width() {\n\t\t\tvar cur_width = self.canvas.node.getBoundingClientRect().width;\n\t\t\tvar actual_width = parseFloat(self.canvas.select('#grid .grid-row').attr('width')) + self.config.left_menu_width;\n\t\n\t\t\tif (cur_width < actual_width) {\n\t\t\t\tself.canvas.attr('width', actual_width);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction set_scroll_position() {\n\t\t\tvar parent_element = document.querySelector(self.element).parentElement;\n\t\t\tif (!parent_element) return;\n\t\n\t\t\tvar scroll_pos = get_min_date().diff(self.gantt_start, 'hours') / self.config.step * self.config.column_width - self.config.column_width;\n\t\t\tparent_element.scrollLeft = scroll_pos;\n\t\t}\n\t\n\t\tfunction get_min_date() {\n\t\t\tvar task = self.tasks.reduce(function (acc, curr) {\n\t\t\t\treturn curr._start.isSameOrBefore(acc._start) ? curr : acc;\n\t\t\t});\n\t\t\treturn task._start;\n\t\t}\n\t\n\t\tfunction get_max_date(tasks) {\n\t\t\tvar task = tasks.reduce(function (acc, curr) {\n\t\t\t\treturn curr._end.isSameOrAfter(acc._end) ? curr : acc;\n\t\t\t});\n\t\t\treturn task.end;\n\t\t}\n\t\n\t\tfunction make_grid() {\n\t\t\tmake_grid_background();\n\t\t\tmake_grid_header();\n\t\t\tmake_grid_rows();\n\t\t\tmake_grid_ticks();\n\t\t\tmake_grid_highlights();\n\t\t}\n\t\n\t\tfunction make_grid_background() {\n\t\n\t\t\tvar grid_width = self.dates.length * self.config.column_width + self.config.left_menu_width,\n\t\t\t    grid_height = self.config.header_height + self.config.padding + (self.config.bar.height + self.config.padding) * self._projects._rows + 400;\n\t\n\t\t\tself.canvas.rect(0, 0, grid_width, grid_height).addClass('grid-background').appendTo(self.element_groups.grid);\n\t\n\t\t\tself.canvas.attr({\n\t\t\t\theight: grid_height + self.config.padding,\n\t\t\t\twidth: '110%'\n\t\t\t});\n\t\t}\n\t\n\t\tfunction make_grid_header() {\n\t\t\tvar header_width = self.dates.length * self.config.column_width,\n\t\t\t    header_height = self.config.header_height + 10;\n\t\t\tself.canvas.rect(self.config.left_menu_width, 0, header_width, header_height).addClass('grid-header').appendTo(self.element_groups.grid);\n\t\t}\n\t\n\t\tfunction make_grid_rows() {\n\t\n\t\t\tvar rows = self.canvas.group().appendTo(self.element_groups.grid),\n\t\t\t    lines = self.canvas.group().appendTo(self.element_groups.grid),\n\t\t\t    row_width = self.dates.length * self.config.column_width,\n\t\t\t    row_height = self.config.bar.height + self.config.padding,\n\t\t\t    left_menu_width = self.config.left_menu_width;\n\t\n\t\t\tvar row_y = self.config.header_height + self.config.padding / 2;\n\t\n\t\t\tself.tasks.forEach(function (task, index) {\n\t\t\t\t// eslint-disable-line\n\t\n\t\t\t\tvar nextTask = self.tasks[index + 1];\n\t\t\t\tif (task._index && (!nextTask || task._line !== nextTask._line)) {\n\t\n\t\t\t\t\tself.canvas.rect(left_menu_width, row_y, row_width, row_height).addClass('grid-row').appendTo(rows);\n\t\n\t\t\t\t\tself.canvas.line(left_menu_width, row_y + row_height, row_width + left_menu_width, row_y + row_height).addClass('row-line').appendTo(lines);\n\t\n\t\t\t\t\trow_y += self.config.bar.height + self.config.padding;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tfunction make_projects() {\n\t\n\t\t\tvar rows = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\t    lines = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\t    text = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\t    current = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\t    row_width = self.dates.length * self.config.column_width,\n\t\t\t    row_height = self.config.bar.height + self.config.padding,\n\t\t\t    left_menu_width = self.config.left_menu_width;\n\t\n\t\t\tvar header_height = self.config.header_height + self.config.padding / 2;\n\t\t\tvar row_y = header_height;\n\t\n\t\t\tself._projects.forEach(function (project) {\n\t\t\t\t// eslint-disable-line\n\t\n\t\t\t\tvar height = row_height * project._rows,\n\t\t\t\t    late = project._late > 0 ? '-late' : '';\n\t\t\t\trow_y = header_height + row_height * project._firstRow;\n\t\n\t\t\t\tif (self.config.left_menu_width > 0) {\n\t\t\t\t\tself.canvas.rect(0, row_y, left_menu_width, height).addClass('grid-project-row').appendTo(rows);\n\t\n\t\t\t\t\tself.canvas.line(0, row_y + height, row_width + left_menu_width, row_y + height).addClass('row-line-project').appendTo(lines);\n\t\n\t\t\t\t\tself.canvas.text(self.config.left_menu_width / 2, row_y + height / 2, project.name).addClass('project-text').appendTo(text);\n\t\t\t\t}\n\t\n\t\t\t\tif (view_is('Month') && project._currentDate) {\n\t\t\t\t\tvar x = project._currentDate.startOf('day').diff(self.gantt_start, 'days') * self.config.column_width / 30 + self.config.left_menu_width;\n\t\n\t\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: row_y,\n\t\t\t\t\t\theight: height\n\t\t\t\t\t})).addClass('tick-current' + late).appendTo(current);\n\t\t\t\t} else if (view_is('Day') && project._currentDate) {\n\t\t\t\t\tvar _x = project._currentDate.clone().startOf('day').diff(self.gantt_start, 'hours') / self.config.step * self.config.column_width + self.config.left_menu_width;\n\t\t\t\t\tvar width = self.config.column_width;\n\t\n\t\t\t\t\tself.canvas.rect(_x, row_y, width, height).addClass('current-highlight' + late).appendTo(current);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\n\t\tfunction make_grid_ticks() {\n\t\t\tvar tick_x = self.config.left_menu_width,\n\t\t\t    tick_height = (self.config.bar.height + self.config.padding) * self._projects._rows;\n\t\n\t\t\tvar _iteratorNormalCompletion5 = true;\n\t\t\tvar _didIteratorError5 = false;\n\t\t\tvar _iteratorError5 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator5 = self.dates[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t\t\t\t\tvar date = _step5.value;\n\t\n\t\n\t\t\t\t\tvar tick_y = self.config.header_height + self.config.padding / 2;\n\t\n\t\t\t\t\tvar tick_class = 'tick';\n\t\t\t\t\t// thick tick for monday\n\t\t\t\t\tif (view_is('Day') && date.day() === 1) {\n\t\t\t\t\t\ttick_class += ' thick';\n\t\t\t\t\t}\n\t\t\t\t\t// thick tick for first week\n\t\t\t\t\tif (view_is('Week') && date.date() >= 1 && date.date() < 8) {\n\t\t\t\t\t\ttick_class += ' thick';\n\t\t\t\t\t}\n\t\t\t\t\t// thick ticks for quarters\n\t\t\t\t\tif (view_is('Month') && date.month() === 0) {\n\t\t\t\t\t\ttick_class += ' thick';\n\t\t\t\t\t\ttick_y = tick_y / 2;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\t\tx: tick_x,\n\t\t\t\t\t\ty: tick_y,\n\t\t\t\t\t\theight: tick_height\n\t\t\t\t\t})).addClass(tick_class).appendTo(self.element_groups.grid);\n\t\n\t\t\t\t\tif (view_is('Month')) {\n\t\t\t\t\t\ttick_x += date.daysInMonth() * self.config.column_width / 30;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttick_x += self.config.column_width;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError5 = true;\n\t\t\t\t_iteratorError5 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion5 && _iterator5.return) {\n\t\t\t\t\t\t_iterator5.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError5) {\n\t\t\t\t\t\tthrow _iteratorError5;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction make_grid_highlights() {\n\t\t\t// highlight today's date\n\t\n\t\t\tvar y = 0;\n\t\t\tvar header_height = self.config.header_height + self.config.padding / 2;\n\t\t\tvar height = (self.config.bar.height + self.config.padding) * self._projects._rows + header_height;\n\t\n\t\t\tif (view_is('Day')) {\n\t\t\t\tvar x = moment().startOf('day').diff(self.gantt_start, 'hours') / self.config.step * self.config.column_width + self.config.left_menu_width;\n\t\t\t\tvar width = self.config.column_width;\n\t\n\t\t\t\tif (x <= self.element_groups.grid.getBBox().width && x >= self.config.left_menu_width) {\n\t\t\t\t\tself.canvas.rect(x, y, width, height).addClass('today-highlight').appendTo(self.element_groups.grid);\n\t\t\t\t}\n\t\t\t} else {\n\t\n\t\t\t\tvar _x2 = moment().startOf('day').diff(self.gantt_start, 'days') * self.config.column_width / 30 + self.config.left_menu_width;\n\t\n\t\t\t\tif (_x2 <= self.element_groups.grid.getBBox().width && _x2 >= self.config.left_menu_width) {\n\t\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\t\tx: _x2,\n\t\t\t\t\t\ty: header_height,\n\t\t\t\t\t\theight: height - header_height\n\t\t\t\t\t})).addClass('tick-today').appendTo(self.element_groups.grid);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction make_dates() {\n\t\t\tvar _iteratorNormalCompletion6 = true;\n\t\t\tvar _didIteratorError6 = false;\n\t\t\tvar _iteratorError6 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator6 = get_dates_to_draw()[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n\t\t\t\t\tvar date = _step6.value;\n\t\n\t\n\t\t\t\t\tvar grid_width = self.element_groups.grid.getBBox().width;\n\t\t\t\t\tdate.lower_x += self.config.left_menu_width;\n\t\t\t\t\tdate.upper_x += self.config.left_menu_width;\n\t\n\t\t\t\t\tself.canvas.text(date.lower_x, date.lower_y, date.lower_text).addClass('lower-text').appendTo(self.element_groups.date);\n\t\n\t\t\t\t\tif (date.upper_text) {\n\t\n\t\t\t\t\t\tvar $upper_text = self.canvas.text(date.upper_x, date.upper_y, date.upper_text).addClass('upper-text').appendTo(self.element_groups.date);\n\t\n\t\t\t\t\t\tdate.lower_x += (grid_width - date.lower_x) / 2;\n\t\n\t\t\t\t\t\tif ($upper_text.getBBox().x2 > grid_width) {\n\t\t\t\t\t\t\tself.canvas.text(date.lower_x, date.upper_y, date.upper_text).addClass('upper-text').appendTo(self.element_groups.date);\n\t\n\t\t\t\t\t\t\t$upper_text.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError6 = true;\n\t\t\t\t_iteratorError6 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion6 && _iterator6.return) {\n\t\t\t\t\t\t_iterator6.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError6) {\n\t\t\t\t\t\tthrow _iteratorError6;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction get_dates_to_draw() {\n\t\t\tvar lower_x = 0,\n\t\t\t    last_date = null;\n\t\n\t\t\tvar dates = self.dates.map(function (date, i) {\n\t\n\t\t\t\tvar d = get_date_info(date, last_date, i);\n\t\t\t\tlast_date = date;\n\t\t\t\td.lower_x = lower_x + self.config.column_width / 2;\n\t\t\t\tlower_x += date.daysInMonth() * self.config.column_width / 30;\n\t\t\t\treturn d;\n\t\t\t});\n\t\t\treturn dates;\n\t\t}\n\t\n\t\tfunction get_date_info(date, last_date, i) {\n\t\t\tif (!last_date) {\n\t\t\t\tlast_date = date.clone().add(1, 'year').add(1, 'month').add(1, 'day');\n\t\t\t}\n\t\t\tvar min_width_month = 60;\n\t\n\t\t\tvar date_text = {\n\t\t\t\t'Quarter Day_lower': date.format('HH'),\n\t\t\t\t'Half Day_lower': date.format('HH'),\n\t\t\t\t'Day_lower': date.date() !== last_date.date() ? date.format('D') : '',\n\t\t\t\t'Week_lower': date.month() !== last_date.month() ? date.format('D MMM') : date.format('D'),\n\t\t\t\t'Month_lower': date.format(self.config.column_width < min_width_month ? 'MM' : 'MMMM'),\n\t\t\t\t'Quarter Day_upper': date.date() !== last_date.date() ? date.format('D MMM') : '',\n\t\t\t\t'Half Day_upper': date.date() !== last_date.date() ? date.month() !== last_date.month() ? date.format('D MMM') : date.format('D') : '',\n\t\t\t\t'Day_upper': date.month() !== last_date.month() ? date.format('MMMM') : '',\n\t\t\t\t'Week_upper': date.month() !== last_date.month() ? date.format('MMMM') : '',\n\t\t\t\t'Month_upper': date.year() !== last_date.year() ? date.format('YYYY') : ''\n\t\t\t};\n\t\n\t\t\tvar base_pos = {\n\t\t\t\tx: i * self.config.column_width,\n\t\t\t\tlower_y: self.config.header_height,\n\t\t\t\tupper_y: self.config.header_height - 25\n\t\t\t};\n\t\n\t\t\tvar x_pos = {\n\t\t\t\t'Quarter Day_lower': self.config.column_width * 4 / 2,\n\t\t\t\t'Quarter Day_upper': 0,\n\t\t\t\t'Half Day_lower': self.config.column_width * 2 / 2,\n\t\t\t\t'Half Day_upper': 0,\n\t\t\t\t'Day_lower': self.config.column_width / 2,\n\t\t\t\t'Day_upper': self.config.column_width * 30 / 2,\n\t\t\t\t'Week_lower': 0,\n\t\t\t\t'Week_upper': self.config.column_width * 4 / 2,\n\t\t\t\t// 'Month_lower': self.config.column_width / 2,\n\t\t\t\t'Month_upper': self.config.column_width * (12 - date.month()) / 2\n\t\n\t\t\t};\n\t\n\t\t\treturn {\n\t\t\t\tupper_text: date_text[self.config.view_mode + '_upper'],\n\t\t\t\tlower_text: date_text[self.config.view_mode + '_lower'],\n\t\t\t\tupper_x: base_pos.x + x_pos[self.config.view_mode + '_upper'],\n\t\t\t\tupper_y: base_pos.upper_y,\n\t\t\t\t// lower_x: base_pos.x + x_pos[`${self.config.view_mode}_lower`],\n\t\t\t\tlower_y: base_pos.lower_y\n\t\t\t};\n\t\t}\n\t\n\t\tfunction get_date_progress(task) {\n\t\t\tvar duration = (task._end.diff(task._start, 'hours') + 24) / self.config.step;\n\t\t\treturn task._start.clone().add(duration * task.progress / 100, 'days');\n\t\t}\n\t\n\t\tfunction make_arrows() {\n\t\t\tself._arrows = [];\n\t\t\tvar _iteratorNormalCompletion7 = true;\n\t\t\tvar _didIteratorError7 = false;\n\t\t\tvar _iteratorError7 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tvar _loop = function _loop() {\n\t\t\t\t\tvar task = _step7.value;\n\t\n\t\t\t\t\tvar arrows = [];\n\t\t\t\t\tarrows = task.dependencies.map(function (dep) {\n\t\t\t\t\t\tvar dependency = get_task(dep);\n\t\t\t\t\t\tif (!dependency) return;\n\t\t\t\t\t\tvar arrow = (0, _Arrow2.default)(self, // gt\n\t\t\t\t\t\tself._bars[dependency._index], // from_task\n\t\t\t\t\t\tself._bars[task._index] // to_task\n\t\t\t\t\t\t);\n\t\t\t\t\t\tself.element_groups.arrow.add(arrow.element);\n\t\t\t\t\t\treturn arrow; // eslint-disable-line\n\t\t\t\t\t}).filter(function (arr) {\n\t\t\t\t\t\treturn arr;\n\t\t\t\t\t}); // filter falsy values\n\t\t\t\t\tself._arrows = self._arrows.concat(arrows);\n\t\t\t\t};\n\t\n\t\t\t\tfor (var _iterator7 = self.tasks[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n\t\t\t\t\t_loop();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError7 = true;\n\t\t\t\t_iteratorError7 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion7 && _iterator7.return) {\n\t\t\t\t\t\t_iterator7.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError7) {\n\t\t\t\t\t\tthrow _iteratorError7;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction make_bars() {\n\t\t\tself._bars = self.tasks.map(function (task, i) {\n\t\n\t\t\t\tvar bar = (0, _Bar2.default)(self, task);\n\t\t\t\tself.element_groups.bar.add(bar.group);\n\t\t\t\treturn bar;\n\t\t\t});\n\t\t}\n\t\n\t\tfunction map_arrows_on_bars() {\n\t\t\tvar _iteratorNormalCompletion8 = true;\n\t\t\tvar _didIteratorError8 = false;\n\t\t\tvar _iteratorError8 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tvar _loop2 = function _loop2() {\n\t\t\t\t\tvar bar = _step8.value;\n\t\n\t\t\t\t\tbar.arrows = self._arrows.filter(function (arrow) {\n\t\t\t\t\t\treturn arrow.from_task.task.id === bar.task.id || arrow.to_task.task.id === bar.task.id;\n\t\t\t\t\t});\n\t\t\t\t};\n\t\n\t\t\t\tfor (var _iterator8 = self._bars[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n\t\t\t\t\t_loop2();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError8 = true;\n\t\t\t\t_iteratorError8 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion8 && _iterator8.return) {\n\t\t\t\t\t\t_iterator8.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError8) {\n\t\t\t\t\t\tthrow _iteratorError8;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction bind_grid_click() {\n\t\t\tself.element_groups.grid.click(function () {\n\t\t\t\tunselect_all();\n\t\t\t\tself.element_groups.details.selectAll('.details-wrapper').forEach(function (el) {\n\t\t\t\t\treturn el.addClass('hide');\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\n\t\tfunction unselect_all() {\n\t\t\tself.canvas.selectAll('.bar-wrapper').forEach(function (el) {\n\t\t\t\tel.removeClass('active');\n\t\t\t});\n\t\t}\n\t\n\t\tfunction view_is(modes) {\n\t\t\tif (typeof modes === 'string') {\n\t\t\t\treturn self.config.view_mode === modes;\n\t\t\t} else if (Array.isArray(modes)) {\n\t\t\t\tvar _iteratorNormalCompletion9 = true;\n\t\t\t\tvar _didIteratorError9 = false;\n\t\t\t\tvar _iteratorError9 = undefined;\n\t\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator9 = modes[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n\t\t\t\t\t\tvar mode = _step9.value;\n\t\n\t\t\t\t\t\tif (self.config.view_mode === mode) return true;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError9 = true;\n\t\t\t\t\t_iteratorError9 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion9 && _iterator9.return) {\n\t\t\t\t\t\t\t_iterator9.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError9) {\n\t\t\t\t\t\t\tthrow _iteratorError9;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\n\t\tfunction get_task(id) {\n\t\t\treturn self.tasks.find(function (task) {\n\t\t\t\treturn task.id === id;\n\t\t\t});\n\t\t}\n\t\n\t\tfunction get_bar(id) {\n\t\t\treturn self._bars.find(function (bar) {\n\t\t\t\treturn bar.task.id === id;\n\t\t\t});\n\t\t}\n\t\n\t\t// function get_project(id) {\n\t\t// \treturn self._projects.find(project => project.id === id);\n\t\t// }\n\t\n\t\tfunction generate_id(task) {\n\t\t\treturn task.name + '_' + Math.random().toString(36).slice(2, 12);\n\t\t}\n\t\n\t\tfunction trigger_event(event, args) {\n\t\t\tif (self.config['on_' + event]) {\n\t\t\t\tself.config['on_' + event].apply(null, args);\n\t\t\t}\n\t\t}\n\t\n\t\tinit();\n\t\n\t\treturn self;\n\t}\n\t/* global moment, Snap */\n\t/**\n\t * Gantt:\n\t * \telement: querySelector string, required\n\t * \ttasks: array of tasks, required\n\t *   task: { id, name, start, end, progress, dependencies, custom_class }\n\t * \tconfig: configuration options, optional\n\t */\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(2);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".gantt .grid-background{fill:none}.gantt .grid-header{fill:#fff;stroke:#e0e0e0;stroke-width:1.4}.gantt .grid-row{fill:#fff}.gantt .grid-row:nth-child(2n){fill:#f5f5f5}.gantt .row-line{stroke:#ebeff2}.gantt .row-line-project{stroke:#e0e0e0;stroke-width:1.4}.gantt .tick{stroke:#e0e0e0;stroke-width:.3}.gantt .tick.thick{stroke-width:.4}.gantt .tick-current,.gantt .tick-current-late,.gantt .tick-today{stroke-width:1;opacity:.8;stroke-dasharray:7}.gantt .tick-today{stroke:#2ec12e}.gantt .tick-current{stroke:#82b1f3}.gantt .tick-current-late{stroke:#f1aa9e}.gantt .current-highlight,.gantt .current-highlight-late,.gantt .today-highlight{opacity:.5}.gantt .today-highlight{fill:#b9f3b9}.gantt .current-highlight{fill:#82b1f3}.gantt .current-highlight-late{fill:#f1aa9e}.gantt #arrow{fill:none;stroke:#666;stroke-width:1.4}.gantt .bar{fill:#485f7d;stroke:#8d99a6;stroke-width:0;transition:stroke-width .3s ease}.gantt .bar-progress{fill:#b8c2cc}.gantt .bar-invalid{fill:transparent;stroke:#8d99a6;stroke-width:1;stroke-dasharray:5}.gantt .bar-invalid~.bar-label{fill:#555}.gantt .bar-label{fill:#fff;dominant-baseline:central;text-anchor:middle;font-size:12px;font-weight:lighter;letter-spacing:.8px}.gantt .bar-label.big{fill:#555;text-anchor:start}.gantt .handle{fill:#ddd;cursor:ew-resize;opacity:0;visibility:hidden;transition:opacity .3s ease}.gantt .bar-wrapper{cursor:pointer}.gantt .bar-wrapper:hover .bar{stroke-width:2}.gantt .bar-wrapper:hover .handle{visibility:visible;opacity:1}.gantt .bar-wrapper.active .bar{stroke-width:2}.gantt .lower-text,.gantt .upper-text{font-size:12px;text-anchor:middle}.gantt .upper-text{fill:#555}.gantt .lower-text{fill:#333}.gantt .project-text{fill:#555;text-anchor:middle}.gantt #details .details-container{background:#fff;display:inline-block;padding:12px}.gantt #details .details-container h5,.gantt #details .details-container p{margin:0}.gantt #details .details-container h5{font-size:12px;font-weight:700;margin-bottom:10px;color:#555}.gantt #details .details-container p{font-size:12px;margin-bottom:6px;color:#666}.gantt #details .details-container p:last-child{margin-bottom:0}.gantt .hide{display:none}.gantt .grid-project-row{fill:#f5f5f5}.gantt .avatarContainer{height:64px;display:flex;align-items:center;padding-right:10px;float:left}.gantt .avatar{height:50px!important}\", \"\", {\"version\":3,\"sources\":[\"/home/f4103757/workspace/gantt/src/src/gantt.scss\"],\"names\":[],\"mappings\":\"AAmBA,wBAGE,SAAU,CAHZ,oBAME,UACA,eACA,gBAAiB,CARnB,iBAWE,SAAa,CAXf,+BAcE,YA7BgB,CAelB,iBAiBE,cA/B0B,CAc5B,yBAoBE,eACA,gBAAiB,CArBnB,aAwBE,eACA,eAAiB,CAzBnB,mBA2BG,eAAiB,CA3BpB,kEAgCE,eACA,WACA,kBAAmB,CAlCrB,mBAsCE,cA1Ca,CAIf,qBA0CE,cAjDkB,CAOpB,0BA8CE,cApDiB,CAMnB,iFAkDE,UAAY,CAlDd,wBAsDE,YAzDmB,CAGrB,0BA0DE,YAjEkB,CAOpB,+BA8DE,YApEiB,CAMnB,cAkEE,UACA,YACA,gBAAiB,CApEnB,YAwEE,aACA,eACA,eACA,gCAAiC,CA3EnC,qBA8EE,YAvFY,CASd,oBAiFE,iBACA,eACA,eACA,kBAAmB,CApFrB,+BAuFG,SAlGc,CAWjB,kBA2FE,UACA,0BACA,mBACA,eACA,oBACA,mBAAqB,CAhGvB,sBAmGG,UACA,iBAAkB,CApGrB,eAyGE,UACA,iBACA,UACA,kBACA,2BAA4B,CA7G9B,oBAiHE,cAAe,CAjHjB,+BAqHI,cAAe,CArHnB,kCAyHI,mBACA,SAAU,CA1Hd,gCAgII,cAAe,CAhInB,sCAsIE,eACA,kBAAmB,CAvIrB,mBA0IE,SArJe,CAWjB,mBA6IE,SAvJe,CAUjB,qBAgJE,UACA,kBAAmB,CAjJrB,mCAqJE,gBACA,qBACA,YAAa,CAvJf,2EA0JG,QAAS,CA1JZ,sCA8JG,eACA,gBACA,mBACA,UA5Kc,CAWjB,qCAqKG,eACA,kBACA,UAnLc,CAYjB,gDA2KG,eAAgB,CA3KnB,aAgLE,YAAa,CAhLf,yBAoLE,YAnMgB,CAelB,wBAwLE,YACA,aACA,mBACA,mBACA,UAAW,CA5Lb,eAgME,qBAAuB,CACvB\",\"file\":\"gantt.scss\",\"sourcesContent\":[\"// $bar-color: #b8c2cc;\\n$bar-color: #485f7d;\\n$bar-stroke: #8D99A6;\\n$border-color: #e0e0e0;\\n$light-bg: #f5f5f5;\\n$light-border-color: #ebeff2;\\n$handle-color: #ddd;\\n$text-muted: #666;\\n$text-light: #555;\\n$text-color: #333;\\n$grey: #b8c2cc;\\n$blue: #3887f3;\\n$light-blue: #82b1f3;\\n$light-red: #f1aa9e;\\n$light-yellow: #fcf8e3;\\n$green: #2ec12e;\\n$light-green: #b9f3b9;\\n\\n\\n.gantt {\\n\\n\\t.grid-background {\\n\\t\\tfill: none;\\n\\t}\\n\\t.grid-header {\\n\\t\\tfill: #ffffff;\\n\\t\\tstroke: $border-color;\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\t.grid-row {\\n\\t\\tfill: #ffffff;\\n\\t}\\n\\t.grid-row:nth-child(even) {\\n\\t\\tfill: $light-bg;\\n\\t}\\n\\t.row-line {\\n\\t\\tstroke: $light-border-color;\\t\\t\\n\\t}\\n\\t.row-line-project {\\t\\t\\n\\t\\tstroke: $border-color;\\t\\t\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\t.tick {\\n\\t\\tstroke: $border-color;\\n\\t\\tstroke-width: 0.3;\\n\\t\\t&.thick {\\n\\t\\t\\tstroke-width: 0.4;\\n\\t\\t}\\n\\t}\\n\\n\\t.tick-today, .tick-current, .tick-current-late {\\t\\t\\n\\t\\tstroke-width: 1;\\t\\n\\t\\topacity: 0.8;\\t\\n\\t\\tstroke-dasharray: 7;\\n\\t}\\n\\n\\t.tick-today {\\n\\t\\tstroke: $green;\\t\\t\\n\\t}\\n\\n\\t.tick-current {\\n\\t\\tstroke: $light-blue;\\n\\t\\t\\n\\t}\\n\\t.tick-current-late {\\n\\t\\tstroke: $light-red;\\n\\t}\\n\\n\\t.today-highlight, .current-highlight, .current-highlight-late{\\n\\t\\topacity: 0.5;\\n\\t}\\n\\n\\t.today-highlight {\\n\\t\\tfill: $light-green;\\t\\t\\n\\t}\\n\\n\\t.current-highlight {\\n\\t\\tfill: $light-blue;\\n\\t}\\n\\n\\t.current-highlight-late {\\n\\t\\tfill: $light-red;\\n\\t}\\n\\n\\t#arrow {\\n\\t\\tfill: none;\\n\\t\\tstroke: $text-muted;\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\n\\t.bar {\\n\\t\\tfill: $bar-color;\\n\\t\\tstroke: $bar-stroke;\\n\\t\\tstroke-width: 0;\\n\\t\\ttransition: stroke-width .3s ease;\\n\\t}\\n\\t.bar-progress {\\n\\t\\tfill: $grey;\\n\\t}\\n\\t.bar-invalid {\\n\\t\\tfill: transparent;\\n\\t\\tstroke: $bar-stroke;\\n\\t\\tstroke-width: 1;\\n\\t\\tstroke-dasharray: 5;\\n\\n\\t\\t&~.bar-label {\\n\\t\\t\\tfill: $text-light;\\n\\t\\t}\\n\\t}\\n\\t.bar-label {\\n\\t\\tfill: #fff;\\n\\t\\tdominant-baseline: central;\\n\\t\\ttext-anchor: middle;\\n\\t\\tfont-size: 12px;\\n\\t\\tfont-weight: lighter;\\n\\t\\tletter-spacing: 0.8px;\\n\\n\\t\\t&.big {\\n\\t\\t\\tfill: $text-light;\\n\\t\\t\\ttext-anchor: start;\\n\\t\\t}\\n\\t}\\n\\n\\t.handle {\\n\\t\\tfill: $handle-color;\\n\\t\\tcursor: ew-resize;\\n\\t\\topacity: 0;\\n\\t\\tvisibility: hidden;\\n\\t\\ttransition: opacity .3s ease;\\n\\t}\\n\\n\\t.bar-wrapper {\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover {\\n\\t\\t\\t.bar {\\n\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.handle {\\n\\t\\t\\t\\tvisibility: visible;\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.active {\\n\\t\\t\\t.bar {\\n\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.lower-text, .upper-text {\\n\\t\\tfont-size: 12px;\\n\\t\\ttext-anchor: middle;\\n\\t}\\n\\t.upper-text {\\n\\t\\tfill: $text-light;\\n\\t}\\n\\t.lower-text {\\n\\t\\tfill: $text-color;\\n\\t}\\n\\t.project-text{\\n\\t\\tfill: $text-light;\\n\\t\\ttext-anchor: middle;\\n\\t}\\n\\n\\t#details .details-container {\\n\\t\\tbackground: #fff;\\n\\t\\tdisplay: inline-block;\\n\\t\\tpadding: 12px;\\n\\n\\t\\th5, p {\\n\\t\\t\\tmargin: 0;\\n\\t\\t}\\n\\n\\t\\th5 {\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t\\tcolor: $text-light;\\n\\t\\t}\\n\\n\\t\\tp {\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t\\tcolor: $text-muted;\\n\\t\\t}\\n\\n\\t\\tp:last-child {\\n\\t\\t\\tmargin-bottom: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t.hide {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.grid-project-row {\\n\\t\\tfill: $light-bg;\\n\\t}\\n\\n\\t.avatarContainer{\\n\\t\\theight: 64px;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tpadding-right: 10px;\\n\\t\\tfloat: left;\\n\\t\\t\\n\\t}\\n\\t.avatar{\\n\\t\\theight: 50px !important;\\n\\t}\\t\\n\\t\\n}\"],\"sourceRoot\":\"\"}]);\n\t\n\t// exports\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function() {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif(item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function(modules, mediaQuery) {\n\t\t\tif(typeof modules === \"string\")\n\t\t\t\tmodules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif(typeof id === \"number\")\n\t\t\t\t\talreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\n\t\tAuthor Tobias Koppers @sokra\n\t*/\n\tvar stylesInDom = {},\n\t\tmemoize = function(fn) {\n\t\t\tvar memo;\n\t\t\treturn function () {\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\t\treturn memo;\n\t\t\t};\n\t\t},\n\t\tisOldIE = memoize(function() {\n\t\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t\t}),\n\t\tgetHeadElement = memoize(function () {\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t\t}),\n\t\tsingletonElement = null,\n\t\tsingletonCounter = 0,\n\t\tstyleElementsInsertedAtTop = [];\n\t\n\tmodule.exports = function(list, options) {\n\t\tif(false) {\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t\t}\n\t\n\t\toptions = options || {};\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t\t// tags it will allow on a page\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\t\n\t\t// By default, add <style> tags to the bottom of <head>.\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\t\n\t\tvar styles = listToStyles(list);\n\t\taddStylesToDom(styles, options);\n\t\n\t\treturn function update(newList) {\n\t\t\tvar mayRemove = [];\n\t\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\t\tvar item = styles[i];\n\t\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\t\tdomStyle.refs--;\n\t\t\t\tmayRemove.push(domStyle);\n\t\t\t}\n\t\t\tif(newList) {\n\t\t\t\tvar newStyles = listToStyles(newList);\n\t\t\t\taddStylesToDom(newStyles, options);\n\t\t\t}\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\t\tvar domStyle = mayRemove[i];\n\t\t\t\tif(domStyle.refs === 0) {\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t\n\tfunction addStylesToDom(styles, options) {\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tif(domStyle) {\n\t\t\t\tdomStyle.refs++;\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t\t}\n\t\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar parts = [];\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t\t}\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction listToStyles(list) {\n\t\tvar styles = [];\n\t\tvar newStyles = {};\n\t\tfor(var i = 0; i < list.length; i++) {\n\t\t\tvar item = list[i];\n\t\t\tvar id = item[0];\n\t\t\tvar css = item[1];\n\t\t\tvar media = item[2];\n\t\t\tvar sourceMap = item[3];\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\t\tif(!newStyles[id])\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\t\telse\n\t\t\t\tnewStyles[id].parts.push(part);\n\t\t}\n\t\treturn styles;\n\t}\n\t\n\tfunction insertStyleElement(options, styleElement) {\n\t\tvar head = getHeadElement();\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\t\tif (options.insertAt === \"top\") {\n\t\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t\t} else {\n\t\t\t\thead.appendChild(styleElement);\n\t\t\t}\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t\t} else if (options.insertAt === \"bottom\") {\n\t\t\thead.appendChild(styleElement);\n\t\t} else {\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t\t}\n\t}\n\t\n\tfunction removeStyleElement(styleElement) {\n\t\tstyleElement.parentNode.removeChild(styleElement);\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\t\tif(idx >= 0) {\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t\t}\n\t}\n\t\n\tfunction createStyleElement(options) {\n\t\tvar styleElement = document.createElement(\"style\");\n\t\tstyleElement.type = \"text/css\";\n\t\tinsertStyleElement(options, styleElement);\n\t\treturn styleElement;\n\t}\n\t\n\tfunction createLinkElement(options) {\n\t\tvar linkElement = document.createElement(\"link\");\n\t\tlinkElement.rel = \"stylesheet\";\n\t\tinsertStyleElement(options, linkElement);\n\t\treturn linkElement;\n\t}\n\t\n\tfunction addStyle(obj, options) {\n\t\tvar styleElement, update, remove;\n\t\n\t\tif (options.singleton) {\n\t\t\tvar styleIndex = singletonCounter++;\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t\t} else if(obj.sourceMap &&\n\t\t\ttypeof URL === \"function\" &&\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\t\ttypeof Blob === \"function\" &&\n\t\t\ttypeof btoa === \"function\") {\n\t\t\tstyleElement = createLinkElement(options);\n\t\t\tupdate = updateLink.bind(null, styleElement);\n\t\t\tremove = function() {\n\t\t\t\tremoveStyleElement(styleElement);\n\t\t\t\tif(styleElement.href)\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t\t};\n\t\t} else {\n\t\t\tstyleElement = createStyleElement(options);\n\t\t\tupdate = applyToTag.bind(null, styleElement);\n\t\t\tremove = function() {\n\t\t\t\tremoveStyleElement(styleElement);\n\t\t\t};\n\t\t}\n\t\n\t\tupdate(obj);\n\t\n\t\treturn function updateStyle(newObj) {\n\t\t\tif(newObj) {\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\t\treturn;\n\t\t\t\tupdate(obj = newObj);\n\t\t\t} else {\n\t\t\t\tremove();\n\t\t\t}\n\t\t};\n\t}\n\t\n\tvar replaceText = (function () {\n\t\tvar textStore = [];\n\t\n\t\treturn function (index, replacement) {\n\t\t\ttextStore[index] = replacement;\n\t\t\treturn textStore.filter(Boolean).join('\\n');\n\t\t};\n\t})();\n\t\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\t\tvar css = remove ? \"\" : obj.css;\n\t\n\t\tif (styleElement.styleSheet) {\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t\t} else {\n\t\t\tvar cssNode = document.createTextNode(css);\n\t\t\tvar childNodes = styleElement.childNodes;\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\t\tif (childNodes.length) {\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t\t} else {\n\t\t\t\tstyleElement.appendChild(cssNode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfunction applyToTag(styleElement, obj) {\n\t\tvar css = obj.css;\n\t\tvar media = obj.media;\n\t\n\t\tif(media) {\n\t\t\tstyleElement.setAttribute(\"media\", media)\n\t\t}\n\t\n\t\tif(styleElement.styleSheet) {\n\t\t\tstyleElement.styleSheet.cssText = css;\n\t\t} else {\n\t\t\twhile(styleElement.firstChild) {\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t\t}\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\n\t\t}\n\t}\n\t\n\tfunction updateLink(linkElement, obj) {\n\t\tvar css = obj.css;\n\t\tvar sourceMap = obj.sourceMap;\n\t\n\t\tif(sourceMap) {\n\t\t\t// http://stackoverflow.com/a/26603875\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t\t}\n\t\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\n\t\n\t\tvar oldSrc = linkElement.href;\n\t\n\t\tlinkElement.href = URL.createObjectURL(blob);\n\t\n\t\tif(oldSrc)\n\t\t\tURL.revokeObjectURL(oldSrc);\n\t}\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = Bar;\n\t\n\t__webpack_require__(1);\n\t\n\tfunction Bar(gt, task) {\n\t\n\t\tvar self = {};\n\t\n\t\tfunction init() {\n\t\t\tset_defaults();\n\t\t\tprepare();\n\t\t\tdraw();\n\t\t\tbind();\n\t\t}\n\t\n\t\tfunction set_defaults() {\n\t\t\tself.action_completed = false;\n\t\t\tself.task = task;\n\t\t}\n\t\n\t\tfunction prepare() {\n\t\t\tprepare_values();\n\t\t\tprepare_plugins();\n\t\t}\n\t\n\t\tfunction prepare_values() {\n\t\t\tself.invalid = self.task.invalid;\n\t\t\tself.height = gt.config.bar.height;\n\t\t\tself.x = compute_x();\n\t\t\tself.y = compute_y();\n\t\t\tself.corner_radius = 3;\n\t\t\tself.duration = (self.task._end.diff(self.task._start, 'hours') + 24) / gt.config.step;\n\t\t\tself.durationDays = self.task._end.diff(self.task._start, 'days') + 1;\n\t\t\tself.width = gt.config.column_width * self.duration;\n\t\t\tself.progress_width = gt.config.column_width * self.duration * (self.task.progress / 100) || 0;\n\t\t\tself.group = gt.canvas.group().addClass('bar-wrapper').addClass(self.task.custom_class || '');\n\t\t\tself.bar_group = gt.canvas.group().addClass('bar-group').appendTo(self.group);\n\t\t\tself.handle_group = gt.canvas.group().addClass('handle-group').appendTo(self.group);\n\t\t}\n\t\n\t\tfunction prepare_plugins() {\n\t\t\tSnap.plugin(function (Snap, Element, Paper, global, Fragment) {\n\t\t\t\tElement.prototype.getX = function () {\n\t\t\t\t\treturn +this.attr('x');\n\t\t\t\t};\n\t\t\t\tElement.prototype.getY = function () {\n\t\t\t\t\treturn +this.attr('y');\n\t\t\t\t};\n\t\t\t\tElement.prototype.getWidth = function () {\n\t\t\t\t\treturn +this.attr('width');\n\t\t\t\t};\n\t\t\t\tElement.prototype.getHeight = function () {\n\t\t\t\t\treturn +this.attr('height');\n\t\t\t\t};\n\t\t\t\tElement.prototype.getEndX = function () {\n\t\t\t\t\treturn this.getX() + this.getWidth();\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\n\t\tfunction draw() {\n\t\t\tdraw_bar();\n\t\t\tdraw_progress_bar();\n\t\t\tdraw_label();\n\t\t\tdraw_resize_handles();\n\t\t}\n\t\n\t\tfunction draw_bar() {\n\t\t\tself.$bar = gt.canvas.rect(self.x, self.y, self.width, self.height, self.corner_radius, self.corner_radius).addClass('bar').appendTo(self.bar_group);\n\t\t\tif (self.invalid) {\n\t\t\t\tself.$bar.addClass('bar-invalid');\n\t\t\t}\n\t\t}\n\t\n\t\tfunction draw_progress_bar() {\n\t\t\tif (self.invalid) return;\n\t\t\tself.$bar_progress = gt.canvas.rect(self.x, self.y, self.progress_width, self.height, self.corner_radius, self.corner_radius).addClass('bar-progress').appendTo(self.bar_group);\n\t\t}\n\t\n\t\tfunction draw_label() {\n\t\t\tgt.canvas.text(self.x + self.width / 2, self.y + self.height / 2, self.task.name).addClass('bar-label').appendTo(self.bar_group);\n\t\t\tupdate_label_position();\n\t\t}\n\t\n\t\tfunction draw_resize_handles() {\n\t\t\tif (self.invalid) return;\n\t\n\t\t\tvar bar = self.$bar,\n\t\t\t    handle_width = 8;\n\t\n\t\t\tgt.canvas.rect(bar.getX() + bar.getWidth() - 9, bar.getY() + 1, handle_width, self.height - 2, self.corner_radius, self.corner_radius).addClass('handle right').appendTo(self.handle_group);\n\t\t\tgt.canvas.rect(bar.getX() + 1, bar.getY() + 1, handle_width, self.height - 2, self.corner_radius, self.corner_radius).addClass('handle left').appendTo(self.handle_group);\n\t\n\t\t\tif (self.task.progress && self.task.progress < 100) {\n\t\t\t\tgt.canvas.polygon(get_progress_polygon_points()).addClass('handle progress').appendTo(self.handle_group);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction get_progress_polygon_points() {\n\t\t\tvar bar_progress = self.$bar_progress;\n\t\t\treturn [bar_progress.getEndX() - 5, bar_progress.getY() + bar_progress.getHeight(), bar_progress.getEndX() + 5, bar_progress.getY() + bar_progress.getHeight(), bar_progress.getEndX(), bar_progress.getY() + bar_progress.getHeight() - 8.66];\n\t\t}\n\t\n\t\tfunction bind() {\n\t\t\tif (self.invalid) return;\n\t\t\tsetup_click_event();\n\t\t\tshow_details();\n\t\t\tbind_resize();\n\t\t\tbind_drag();\n\t\t\tbind_resize_progress();\n\t\t}\n\t\n\t\tfunction show_details() {\n\t\t\tvar popover_group = gt.element_groups.details;\n\t\t\tself.details_box = popover_group.select('.details-wrapper[data-task=\\'' + self.task.id + '\\']');\n\t\n\t\t\tif (!self.details_box) {\n\t\t\t\tself.details_box = gt.canvas.group().addClass('details-wrapper hide').attr('data-task', self.task.id).appendTo(popover_group);\n\t\n\t\t\t\trender_details();\n\t\n\t\t\t\tvar f = gt.canvas.filter(Snap.filter.shadow(0, 1, 1, '#666', 0.6));\n\t\t\t\tself.details_box.attr({\n\t\t\t\t\tfilter: f\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\tself.group.click(function (e) {\n\t\t\t\tif (self.action_completed) {\n\t\t\t\t\t// just finished a move action, wait for a few seconds\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tpopover_group.selectAll('.details-wrapper').forEach(function (el) {\n\t\t\t\t\treturn el.addClass('hide');\n\t\t\t\t});\n\t\t\t\tself.details_box.removeClass('hide');\n\t\t\t});\n\t\t}\n\t\n\t\tfunction render_details() {\n\t\t\tvar _get_details_position = get_details_position(),\n\t\t\t    x = _get_details_position.x,\n\t\t\t    y = _get_details_position.y;\n\t\n\t\t\tself.details_box.transform('t' + x + ',' + y);\n\t\t\tself.details_box.clear();\n\t\n\t\t\tvar html = get_details_html();\n\t\t\tvar foreign_object = Snap.parse('<foreignObject width=\"5000\" height=\"2000\">\\n\\t\\t\\t\\t<body xmlns=\"http://www.w3.org/1999/xhtml\">\\n\\t\\t\\t\\t\\t' + html + '\\n\\t\\t\\t\\t</body>\\n\\t\\t\\t\\t</foreignObject>');\n\t\t\tself.details_box.append(foreign_object);\n\t\t}\n\t\n\t\tfunction get_details_html() {\n\t\n\t\t\t// custom html in config\n\t\t\tif (gt.config.custom_popup_html) {\n\t\t\t\tvar _html = gt.config.custom_popup_html;\n\t\t\t\tif (typeof _html === 'string') {\n\t\t\t\t\treturn _html;\n\t\t\t\t}\n\t\t\t\tif (isFunction(_html)) {\n\t\t\t\t\treturn _html(task);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// const start_date = self.task._start.format('DD/MM/YYYY');\n\t\t\t// const end_date = self.task._end.format('DD/MM/YYYY');\n\t\t\tvar heading = '' + self.task.name;\n\t\n\t\t\tvar line_1 = 'Dura\\xE7\\xE3o: ' + self.durationDays + ' dias';\n\t\t\tvar line_2 = self.task.progress ? 'Percentual: ' + self.task.progress + '%' : null;\n\t\n\t\t\tvar periodos = '';\n\t\t\tself.task.periodos.forEach(function (periodo) {\n\t\n\t\t\t\tvar tipo = periodo.tipo.nome;\n\t\t\t\tvar dataInicio = moment(periodo.dataInicio).format('DD/MM/YYYY');\n\t\t\t\tvar dataFim = moment(periodo.dataFim).format('DD/MM/YYYY');\n\t\n\t\t\t\tperiodos = periodos.concat('\\n\\t\\t\\t\\t<p>' + tipo + ': ' + dataInicio + ' - ' + dataFim + '</p>\\n\\t\\t\\t\\t');\n\t\t\t});\n\t\n\t\t\tvar responsaveis = '';\n\t\t\tself.task.responsaveis.forEach(function (responsavel, i) {\n\t\n\t\t\t\tvar chave = responsavel.responsavel.chave;\n\t\t\t\tvar nome = responsavel.responsavel.nome;\n\t\t\t\tvar ramal = responsavel.responsavel.telefone;\n\t\t\t\tvar celular = responsavel.responsavel.celular;\n\t\t\t\tvar link = 'https://connections.bb.com.br/profiles/html/myProfileView.do?uid=' + chave;\n\t\t\t\tresponsaveis = responsaveis.concat('\\n\\t\\t\\t\\t' + (i !== 0 ? '<hr />' : '') + '\\n\\t\\t\\t\\t<a href=' + link + ' target=\"_blank\" class=\"avatarContainer\">\\n\\t\\t\\t\\t\\t<img src=https://connections.bb.com.br/profiles/photo.do?uid=' + chave + ' class=\"avatar\" />\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t<p>' + chave + ' - ' + nome + '</p>\\n\\t\\t\\t\\t<p>Ramal: ' + ramal + '</p>\\n\\t\\t\\t\\t<p>Celular: ' + celular + '</p>\\n\\t\\t\\t\\t');\n\t\t\t});\n\t\n\t\t\tvar uors = '';\n\t\t\tself.task.uors.forEach(function (uor) {\n\t\n\t\t\t\tvar nome = uor.uor.nomeReduzido;\n\t\n\t\t\t\tuors = uors.concat('\\n\\t\\t\\t\\t<a href=\"https://humanograma.intranet.bb.com.br/uor/' + uor.uor_id + '\" target=\"_blank\">\\n\\t\\t\\t\\t\\t<p>' + nome + '</p>\\n\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t');\n\t\t\t});\n\t\n\t\t\tvar html = '\\n\\t\\t\\t<div class=\"details-container\">\\n\\t\\t\\t\\t<h5>' + heading + '</h5>\\n\\t\\t\\t\\t<p>' + line_1 + '</p>\\n\\t\\t\\t\\t' + (line_2 ? '<p>' + line_2 + '</p>' : '') + '\\n\\t\\t\\t\\t' + (periodos ? '\\n\\t\\t\\t\\t\\t<br />\\n\\t\\t\\t\\t\\t<h5>Datas:</h5>\\n\\t\\t\\t\\t\\t' + periodos + '\\n\\t\\t\\t\\t\\t' : '') + '\\n\\t\\t\\t\\t' + (uors ? '\\n\\t\\t\\t\\t\\t<br />\\n\\t\\t\\t\\t\\t<h5>\\xC1rea(s):</h5>\\n\\t\\t\\t\\t\\t' + uors + '\\n\\t\\t\\t\\t\\t' : '') + '\\n\\t\\t\\t\\t' + (responsaveis ? '\\n\\t\\t\\t\\t\\t\\t<br />\\n\\t\\t\\t\\t\\t\\t<h5>Contato(s):</h5>\\n\\t\\t\\t\\t\\t\\t' + responsaveis + '\\n\\t\\t\\t\\t\\t\\t' : '') + '\\n\\t\\t\\t</div>\\n\\t\\t';\n\t\t\treturn html;\n\t\t}\n\t\n\t\tfunction get_details_position() {\n\t\t\treturn {\n\t\t\t\tx: self.$bar.getEndX() + 2,\n\t\t\t\ty: self.$bar.getY() - 10\n\t\t\t};\n\t\t}\n\t\n\t\tfunction bind_resize() {\n\t\t\tvar _get_handles = get_handles(),\n\t\t\t    left = _get_handles.left,\n\t\t\t    right = _get_handles.right;\n\t\n\t\t\tleft.drag(onmove_left, onstart, onstop_left);\n\t\t\tright.drag(onmove_right, onstart, onstop_right);\n\t\n\t\t\tfunction onmove_right(dx, dy) {\n\t\t\t\tonmove_handle_right(dx, dy);\n\t\t\t}\n\t\t\tfunction onstop_right() {\n\t\t\t\tonstop_handle_right();\n\t\t\t}\n\t\n\t\t\tfunction onmove_left(dx, dy) {\n\t\t\t\tonmove_handle_left(dx, dy);\n\t\t\t}\n\t\t\tfunction onstop_left() {\n\t\t\t\tonstop_handle_left();\n\t\t\t}\n\t\t}\n\t\n\t\tfunction get_handles() {\n\t\t\treturn {\n\t\t\t\tleft: self.handle_group.select('.handle.left'),\n\t\t\t\tright: self.handle_group.select('.handle.right')\n\t\t\t};\n\t\t}\n\t\n\t\tfunction bind_drag() {\n\t\t\tself.bar_group.drag(onmove, onstart, onstop);\n\t\t}\n\t\n\t\tfunction bind_resize_progress() {\n\t\t\tvar bar = self.$bar,\n\t\t\t    bar_progress = self.$bar_progress,\n\t\t\t    handle = self.group.select('.handle.progress');\n\t\t\thandle && handle.drag(on_move, on_start, on_stop);\n\t\n\t\t\tfunction on_move(dx, dy) {\n\t\t\t\tif (dx > bar_progress.max_dx) {\n\t\t\t\t\tdx = bar_progress.max_dx;\n\t\t\t\t}\n\t\t\t\tif (dx < bar_progress.min_dx) {\n\t\t\t\t\tdx = bar_progress.min_dx;\n\t\t\t\t}\n\t\n\t\t\t\tbar_progress.attr('width', bar_progress.owidth + dx);\n\t\t\t\thandle.attr('points', get_progress_polygon_points());\n\t\t\t\tbar_progress.finaldx = dx;\n\t\t\t}\n\t\t\tfunction on_stop() {\n\t\t\t\tif (!bar_progress.finaldx) return;\n\t\t\t\tprogress_changed();\n\t\t\t\tset_action_completed();\n\t\t\t}\n\t\t\tfunction on_start() {\n\t\t\t\tbar_progress.finaldx = 0;\n\t\t\t\tbar_progress.owidth = bar_progress.getWidth();\n\t\t\t\tbar_progress.min_dx = -bar_progress.getWidth();\n\t\t\t\tbar_progress.max_dx = bar.getWidth() - bar_progress.getWidth();\n\t\t\t}\n\t\t}\n\t\n\t\tfunction onstart() {\n\t\t\tvar bar = self.$bar;\n\t\t\tbar.ox = bar.getX();\n\t\t\tbar.oy = bar.getY();\n\t\t\tbar.owidth = bar.getWidth();\n\t\t\tbar.finaldx = 0;\n\t\t\trun_method_for_dependencies('onstart');\n\t\t}\n\t\tself.onstart = onstart;\n\t\n\t\tfunction onmove(dx, dy) {\n\t\t\tvar bar = self.$bar;\n\t\t\tbar.finaldx = get_snap_position(dx);\n\t\t\tupdate_bar_position({ x: bar.ox + bar.finaldx });\n\t\t\trun_method_for_dependencies('onmove', [dx, dy]);\n\t\t}\n\t\tself.onmove = onmove;\n\t\n\t\tfunction onstop() {\n\t\t\tvar bar = self.$bar;\n\t\t\tif (!bar.finaldx) return;\n\t\t\tdate_changed();\n\t\t\tset_action_completed();\n\t\t\trun_method_for_dependencies('onstop');\n\t\t}\n\t\tself.onstop = onstop;\n\t\n\t\tfunction onmove_handle_left(dx, dy) {\n\t\t\tvar bar = self.$bar;\n\t\t\tbar.finaldx = get_snap_position(dx);\n\t\t\tupdate_bar_position({\n\t\t\t\tx: bar.ox + bar.finaldx,\n\t\t\t\twidth: bar.owidth - bar.finaldx\n\t\t\t});\n\t\t\trun_method_for_dependencies('onmove', [dx, dy]);\n\t\t}\n\t\tself.onmove_handle_left = onmove_handle_left;\n\t\n\t\tfunction onstop_handle_left() {\n\t\t\tvar bar = self.$bar;\n\t\t\tif (bar.finaldx) date_changed();\n\t\t\tset_action_completed();\n\t\t\trun_method_for_dependencies('onstop');\n\t\t}\n\t\tself.onstop_handle_left = onstop_handle_left;\n\t\n\t\tfunction run_method_for_dependencies(fn, args) {\n\t\t\tvar dm = gt.dependency_map;\n\t\t\tif (dm[self.task.id]) {\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\t\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = dm[self.task.id][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar deptask = _step.value;\n\t\n\t\t\t\t\t\tvar dt = gt.get_bar(deptask);\n\t\t\t\t\t\tdt[fn].apply(dt, args);\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction onmove_handle_right(dx, dy) {\n\t\t\tvar bar = self.$bar;\n\t\t\tbar.finaldx = get_snap_position(dx);\n\t\t\tupdate_bar_position({ width: bar.owidth + bar.finaldx });\n\t\t}\n\t\n\t\tfunction onstop_handle_right() {\n\t\t\tvar bar = self.$bar;\n\t\t\tif (bar.finaldx) date_changed();\n\t\t\tset_action_completed();\n\t\t}\n\t\n\t\tfunction update_bar_position(_ref) {\n\t\t\tvar _ref$x = _ref.x,\n\t\t\t    x = _ref$x === undefined ? null : _ref$x,\n\t\t\t    _ref$width = _ref.width,\n\t\t\t    width = _ref$width === undefined ? null : _ref$width;\n\t\n\t\t\tvar bar = self.$bar;\n\t\t\tif (x) {\n\t\t\t\t// get all x values of parent task\n\t\t\t\tvar xs = task.dependencies.map(function (dep) {\n\t\t\t\t\treturn gt.get_bar(dep).$bar.getX();\n\t\t\t\t});\n\t\t\t\t// child task must not go before parent\n\t\t\t\tvar valid_x = xs.reduce(function (prev, curr) {\n\t\t\t\t\treturn x >= curr;\n\t\t\t\t}, x);\n\t\t\t\tif (!valid_x) {\n\t\t\t\t\twidth = null;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tupdate_attr(bar, 'x', x);\n\t\t\t}\n\t\t\tif (width && width >= gt.config.column_width) {\n\t\t\t\tupdate_attr(bar, 'width', width);\n\t\t\t}\n\t\t\tupdate_label_position();\n\t\t\tupdate_handle_position();\n\t\t\tupdate_progressbar_position();\n\t\t\tupdate_arrow_position();\n\t\t\tupdate_details_position();\n\t\t}\n\t\n\t\tfunction setup_click_event() {\n\t\t\tself.group.click(function () {\n\t\t\t\tif (self.action_completed) {\n\t\t\t\t\t// just finished a move action, wait for a few seconds\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (self.group.hasClass('active')) {\n\t\t\t\t\tgt.trigger_event('click', [self.task]);\n\t\t\t\t}\n\t\t\t\tgt.unselect_all();\n\t\t\t\tself.group.toggleClass('active');\n\t\t\t});\n\t\t}\n\t\n\t\tfunction date_changed() {\n\t\t\tvar _compute_start_end_da = compute_start_end_date(),\n\t\t\t    new_start_date = _compute_start_end_da.new_start_date,\n\t\t\t    new_end_date = _compute_start_end_da.new_end_date;\n\t\n\t\t\tself.task._start = new_start_date;\n\t\t\tself.task._end = new_end_date;\n\t\t\trender_details();\n\t\t\tgt.trigger_event('date_change', [self.task, new_start_date, new_end_date]);\n\t\t}\n\t\n\t\tfunction progress_changed() {\n\t\t\tvar new_progress = compute_progress();\n\t\t\tself.task.progress = new_progress;\n\t\t\trender_details();\n\t\t\tgt.trigger_event('progress_change', [self.task, new_progress]);\n\t\t}\n\t\n\t\tfunction set_action_completed() {\n\t\t\tself.action_completed = true;\n\t\t\tsetTimeout(function () {\n\t\t\t\treturn self.action_completed = false;\n\t\t\t}, 2000);\n\t\t}\n\t\n\t\tfunction compute_start_end_date() {\n\t\t\tvar bar = self.$bar;\n\t\t\tvar x_in_units = bar.getX() / gt.config.column_width;\n\t\t\tvar new_start_date = gt.gantt_start.clone().add(x_in_units * gt.config.step, 'hours');\n\t\t\tvar width_in_units = bar.getWidth() / gt.config.column_width;\n\t\t\tvar new_end_date = new_start_date.clone().add(width_in_units * gt.config.step, 'hours');\n\t\t\t// lets say duration is 2 days\n\t\t\t// start_date = May 24 00:00:00\n\t\t\t// end_date = May 24 + 2 days = May 26 (incorrect)\n\t\t\t// so subtract 1 second so that\n\t\t\t// end_date = May 25 23:59:59\n\t\t\tnew_end_date.add('-1', 'seconds');\n\t\t\treturn { new_start_date: new_start_date, new_end_date: new_end_date };\n\t\t}\n\t\n\t\tfunction compute_progress() {\n\t\t\tvar progress = self.$bar_progress.getWidth() / self.$bar.getWidth() * 100;\n\t\t\treturn parseInt(progress, 10);\n\t\t}\n\t\n\t\tfunction compute_x() {\n\t\t\tvar x = self.task._start.diff(gt.gantt_start, 'hours') / gt.config.step * gt.config.column_width;\n\t\n\t\t\tif (gt.view_is('Month')) {\n\t\t\t\tx = self.task._start.diff(gt.gantt_start, 'days') * gt.config.column_width / 30;\n\t\t\t}\n\t\t\treturn x + gt.config.left_menu_width;\n\t\t}\n\t\n\t\tfunction compute_y() {\n\t\t\treturn gt.config.header_height + gt.config.padding + self.task._line * (self.height + gt.config.padding);\n\t\t}\n\t\n\t\tfunction get_snap_position(dx) {\n\t\t\tvar odx = dx,\n\t\t\t    rem = void 0,\n\t\t\t    position = void 0;\n\t\n\t\t\tif (gt.view_is('Week')) {\n\t\t\t\trem = dx % (gt.config.column_width / 7);\n\t\t\t\tposition = odx - rem + (rem < gt.config.column_width / 14 ? 0 : gt.config.column_width / 7);\n\t\t\t} else if (gt.view_is('Month')) {\n\t\t\t\trem = dx % (gt.config.column_width / 30);\n\t\t\t\tposition = odx - rem + (rem < gt.config.column_width / 60 ? 0 : gt.config.column_width / 30);\n\t\t\t} else {\n\t\t\t\trem = dx % gt.config.column_width;\n\t\t\t\tposition = odx - rem + (rem < gt.config.column_width / 2 ? 0 : gt.config.column_width);\n\t\t\t}\n\t\t\treturn position;\n\t\t}\n\t\n\t\tfunction update_attr(element, attr, value) {\n\t\t\tvalue = +value;\n\t\t\tif (!isNaN(value)) {\n\t\t\t\telement.attr(attr, value);\n\t\t\t}\n\t\t\treturn element;\n\t\t}\n\t\n\t\tfunction update_progressbar_position() {\n\t\t\tself.$bar_progress.attr('x', self.$bar.getX());\n\t\t\tself.$bar_progress.attr('width', self.$bar.getWidth() * (self.task.progress / 100));\n\t\t}\n\t\n\t\tfunction update_label_position() {\n\t\t\tvar bar = self.$bar,\n\t\t\t    label = self.group.select('.bar-label');\n\t\t\tif (label.getBBox().width > bar.getWidth()) {\n\t\t\t\tlabel.addClass('big').attr('x', bar.getX() + bar.getWidth() + 5);\n\t\t\t} else {\n\t\t\t\tlabel.removeClass('big').attr('x', bar.getX() + bar.getWidth() / 2);\n\t\t\t}\n\t\t}\n\t\n\t\tfunction update_handle_position() {\n\t\t\tvar bar = self.$bar;\n\t\t\tself.handle_group.select('.handle.left').attr({\n\t\t\t\t'x': bar.getX() + 1\n\t\t\t});\n\t\t\tself.handle_group.select('.handle.right').attr({\n\t\t\t\t'x': bar.getEndX() - 9\n\t\t\t});\n\t\t\tvar handle = self.group.select('.handle.progress');\n\t\t\thandle && handle.attr('points', get_progress_polygon_points());\n\t\t}\n\t\n\t\tfunction update_arrow_position() {\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\t\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = self.arrows[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar arrow = _step2.value;\n\t\n\t\t\t\t\tarrow.update();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\tfunction update_details_position() {\n\t\t\tvar _get_details_position2 = get_details_position(),\n\t\t\t    x = _get_details_position2.x,\n\t\t\t    y = _get_details_position2.y;\n\t\n\t\t\tself.details_box && self.details_box.transform('t' + x + ',' + y);\n\t\t}\n\t\n\t\tfunction isFunction(functionToCheck) {\n\t\t\tvar getType = {};\n\t\t\treturn functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n\t\t}\n\t\n\t\tinit();\n\t\n\t\treturn self;\n\t} /* global moment, Snap */\n\t/*\n\t\tClass: Bar\n\n\t\tOpts:\n\t\t\tgt: Gantt object\n\t\t\ttask: task object\n\t*/\n\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = Arrow;\n\t/* global Snap */\n\t/*\n\t\tClass: Arrow\n\t\tfrom_task ---> to_task\n\t\n\t\tOpts:\n\t\t\tgantt (Gantt object)\n\t\t\tfrom_task (Bar object)\n\t\t\tto_task (Bar object)\n\t*/\n\t\n\tfunction Arrow(gt, from_task, to_task) {\n\t\n\t\tvar self = {};\n\t\n\t\tfunction init() {\n\t\t\tself.from_task = from_task;\n\t\t\tself.to_task = to_task;\n\t\t\tprepare();\n\t\t\tdraw();\n\t\t}\n\t\n\t\tfunction prepare() {\n\t\n\t\t\tself.start_x = from_task.$bar.getX() + from_task.$bar.getWidth() / 2;\n\t\n\t\t\tvar condition = function condition() {\n\t\t\t\treturn to_task.$bar.getX() < self.start_x + gt.config.padding && self.start_x > from_task.$bar.getX() + gt.config.padding;\n\t\t\t};\n\t\n\t\t\twhile (condition()) {\n\t\t\t\tself.start_x -= 10;\n\t\t\t}\n\t\n\t\t\tself.start_y = gt.config.header_height + gt.config.bar.height + (gt.config.padding + gt.config.bar.height) * from_task.task._line + gt.config.padding;\n\t\n\t\t\tself.end_x = to_task.$bar.getX() - gt.config.padding / 2;\n\t\t\tself.end_y = gt.config.header_height + gt.config.bar.height / 2 + (gt.config.padding + gt.config.bar.height) * to_task.task._line + gt.config.padding;\n\t\n\t\t\tvar from_is_below_to = from_task.task._line > to_task.task._line;\n\t\t\tself.curve = gt.config.arrow.curve;\n\t\t\tself.clockwise = from_is_below_to ? 1 : 0;\n\t\t\tself.curve_y = from_is_below_to ? -self.curve : self.curve;\n\t\t\tself.offset = from_is_below_to ? self.end_y + gt.config.arrow.curve : self.end_y - gt.config.arrow.curve;\n\t\n\t\t\tself.path = Snap.format('M {start_x} {start_y} V {offset} ' + 'a {curve} {curve} 0 0 {clockwise} {curve} {curve_y} ' + 'L {end_x} {end_y} m -5 -5 l 5 5 l -5 5', {\n\t\t\t\tstart_x: self.start_x,\n\t\t\t\tstart_y: self.start_y,\n\t\t\t\tend_x: self.end_x,\n\t\t\t\tend_y: self.end_y,\n\t\t\t\toffset: self.offset,\n\t\t\t\tcurve: self.curve,\n\t\t\t\tclockwise: self.clockwise,\n\t\t\t\tcurve_y: self.curve_y\n\t\t\t});\n\t\n\t\t\tif (to_task.$bar.getX() < from_task.$bar.getX() + gt.config.padding) {\n\t\t\t\tself.path = Snap.format('M {start_x} {start_y} v {down_1} ' + 'a {curve} {curve} 0 0 1 -{curve} {curve} H {left} ' + 'a {curve} {curve} 0 0 {clockwise} -{curve} {curve_y} V {down_2} ' + 'a {curve} {curve} 0 0 {clockwise} {curve} {curve_y} ' + 'L {end_x} {end_y} m -5 -5 l 5 5 l -5 5', {\n\t\t\t\t\tstart_x: self.start_x,\n\t\t\t\t\tstart_y: self.start_y,\n\t\t\t\t\tend_x: self.end_x,\n\t\t\t\t\tend_y: self.end_y,\n\t\t\t\t\tdown_1: gt.config.padding / 2 - self.curve,\n\t\t\t\t\tdown_2: to_task.$bar.getY() + to_task.$bar.getHeight() / 2 - self.curve_y,\n\t\t\t\t\tleft: to_task.$bar.getX() - gt.config.padding,\n\t\t\t\t\toffset: self.offset,\n\t\t\t\t\tcurve: self.curve,\n\t\t\t\t\tclockwise: self.clockwise,\n\t\t\t\t\tcurve_y: self.curve_y\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\n\t\tfunction draw() {\n\t\t\tself.element = gt.canvas.path(self.path).attr('data-from', self.from_task.task.id).attr('data-to', self.to_task.task.id);\n\t\t}\n\t\n\t\tfunction update() {\n\t\t\t// eslint-disable-line\n\t\t\tprepare();\n\t\t\tself.element.attr('d', self.path);\n\t\t}\n\t\tself.update = update;\n\t\n\t\tinit();\n\t\n\t\treturn self;\n\t}\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** frappe-gantt.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 136012a56209631393fb\n **/","\n/* global moment, Snap */\n/**\n * Gantt:\n * \telement: querySelector string, required\n * \ttasks: array of tasks, required\n *   task: { id, name, start, end, progress, dependencies, custom_class }\n * \tconfig: configuration options, optional\n */\nimport './gantt.scss';\n\nimport Bar from './Bar';\nimport Arrow from './Arrow';\n\nexport default function Gantt(element, projects, config) {\n\n\tconst self = {};\n\n\tfunction init() {\n\t\tset_defaults();\n\n\t\t// expose methods\n\t\tself.change_view_mode = change_view_mode;\n\t\tself.unselect_all = unselect_all;\n\t\tself.view_is = view_is;\n\t\tself.get_bar = get_bar;\n\t\tself.trigger_event = trigger_event;\n\t\tself.refresh = refresh;\n\n\t\t// initialize with default view mode\n\t\tchange_view_mode(self.config.view_mode);\n\t}\n\n\tfunction set_defaults() {\n\n\t\tconst defaults = {\n\t\t\theader_height: 50,\n\t\t\tcolumn_width: 30,\n\t\t\tstep: 24,\n\t\t\tview_modes: [\n\t\t\t\t'Quarter Day',\n\t\t\t\t'Half Day',\n\t\t\t\t'Day',\n\t\t\t\t'Week',\n\t\t\t\t'Month'\n\t\t\t],\n\t\t\tbar: {\n\t\t\t\theight: 20\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\tcurve: 5\n\t\t\t},\n\t\t\tpadding: 18,\n\t\t\tview_mode: 'Month',\n\t\t\tdate_format: 'YYYY-MM-DD',\n\t\t\tcustom_popup_html: null,\n\t\t\tleft_menu_width: 0,\n\t\t\tinline: true\n\t\t};\n\t\tself.config = Object.assign({}, defaults, config);\n\n\t\treset_variables();\n\t}\n\n\tfunction reset_variables() {\n\t\tself.element = element;\n\t\tself._tasks = [];\n\t\tprojects.forEach(project =>\n\t\t\tself._tasks = self._tasks.concat(project.tasks));\n\t\tself._projects = projects;\n\t\tself._projects._rows = self._tasks.length;\n\t\tself._bars = [];\n\t\tself._arrows = [];\n\t\tself.element_groups = {};\n\t}\n\n\tfunction refresh(updated_tasks) {\n\t\treset_variables(updated_tasks);\n\t\tchange_view_mode(self.config.view_mode);\n\t}\n\n\tfunction change_view_mode(mode) {\n\t\tprepare();\n\t\tset_scale(mode);\n\t\trender();\n\t\t// fire viewmode_change event\n\t\ttrigger_event('view_change', [mode]);\n\t}\n\n\tfunction prepare() {\n\t\tprepare_tasks();\n\t\tprepare_projects();\n\t\tprepare_dependencies();\n\t\tprepare_dates();\n\t\tprepare_canvas();\n\t}\n\n\tfunction prepare_tasks() {\n\n\t\t// prepare tasks\n\t\tself.tasks = self._tasks.map((task, i) => {\n\n\t\t\t// momentify\n\t\t\ttask._start = moment(task.start, self.config.date_format);\n\t\t\ttask._end = moment(task.end, self.config.date_format);\n\n\t\t\t// cache index\n\t\t\ttask._index = i;\n\n\t\t\t// invalid dates\n\t\t\tif(!task.start && !task.end) {\n\t\t\t\ttask._start = moment().startOf('day');\n\t\t\t\ttask._end = moment().startOf('day').add(2, 'days');\n\t\t\t}\n\t\t\tif(!task.start && task.end) {\n\t\t\t\ttask._start = task._end.clone().add(-2, 'days');\n\t\t\t}\n\t\t\tif(task.start && !task.end) {\n\t\t\t\ttask._end = task._start.clone().add(2, 'days');\n\t\t\t}\n\n\t\t\t// invalid flag\n\t\t\tif(!task.start || !task.end) {\n\t\t\t\ttask.invalid = true;\n\t\t\t}\n\n\t\t\t// dependencies\n\t\t\tif(typeof task.dependencies === 'string' || !task.dependencies) {\n\t\t\t\tlet deps = [];\n\t\t\t\tif(task.dependencies) {\n\t\t\t\t\tdeps = task.dependencies\n\t\t\t\t\t\t.split(',')\n\t\t\t\t\t\t.map(d => d.trim())\n\t\t\t\t\t\t.filter((d) => d);\n\t\t\t\t}\n\t\t\t\ttask.dependencies = deps;\n\t\t\t}\n\n\t\t\t// uids\n\t\t\tif(!task.id) {\n\t\t\t\ttask.id = generate_id(task);\n\t\t\t}\n\n\t\t\t// inline\n\t\t\tif(self.config.inline) {\n\t\t\t\tconst previousTask = self._tasks[i - 1];\n\t\t\t\tconst newProject = (previousTask && task.projectId !== previousTask.projectId);\n\n\t\t\t\tif (!previousTask) {\n\t\t\t\t\ttask._line = 0;\n\t\t\t\t}else if(previousTask._end < task._start && !newProject) {\n\t\t\t\t\ttask._line = previousTask._line;\n\t\t\t\t}else {\n\t\t\t\t\ttask._line = previousTask._line + 1;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\ttask._line = task._index;\n\t\t\t}\n\n\t\t\treturn task;\n\t\t});\n\t}\n\n\tfunction prepare_projects() {\n\n\t\tlet rows = 0;\n\n\t\tself._projects.forEach((project, i) => {\n\n\t\t\tconst tasks = project.tasks;\n\n\t\t\ttasks.forEach((task, i) => {\n\t\t\t\tconst nextTask = tasks[i + 1];\n\t\t\t\tif(i === 0) project._firstRow = task._line;\n\t\t\t\tif(!nextTask) {\n\t\t\t\t\tproject._lastRow = task._line;\n\t\t\t\t\tproject._lastDate = get_max_date(project.tasks);\n\t\t\t\t}\n\t\t\t\tif(task.currentTask) project._currentDate = get_date_progress(task);\n\t\t\t});\n\n\t\t\tproject._late = moment().diff(project._currentDate, 'days');\n\n\t\t\tif(project._late > 0) {\n\n\t\t\t\tconst start = moment(project._lastDate, self.config.date_format).clone().add(1, 'days');\n\t\t\t\tconst end = moment(project._lastDate, self.config.date_format).clone().add(project._late, 'days');\n\n\t\t\t\tconst task = {\n\t\t\t\t\tprojectId: project.id,\n\t\t\t\t\tid: self.tasks.length + 1,\n\t\t\t\t\tname: 'Projeção de Término',\n\t\t\t\t\t_start: start,\n\t\t\t\t\t_end: end,\n\t\t\t\t\t_line: project._lastRow,\n\t\t\t\t\tcustom_class: 'late',\n\t\t\t\t\tdependencies: [],\n\t\t\t\t\tresponsaveis: [],\n\t\t\t\t\tuors: [],\n\t\t\t\t\tperiodos: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdataInicio: start,\n\t\t\t\t\t\t\tdataFim: end,\n\n\t\t\t\t\t\t\ttipo: {\n\t\t\t\t\t\t\t\tnome: 'Previsão'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tself.tasks.push(task);\n\t\t\t}\n\n\t\t\tproject._rows = project._lastRow - project._firstRow + 1;\n\t\t\trows += project._rows;\n\t\t});\n\t\tself._projects._rows = rows;\n\t}\n\n\tfunction prepare_dependencies() {\n\n\t\tself.dependency_map = {};\n\t\tfor(let t of self.tasks) {\n\t\t\tfor(let d of t.dependencies) {\n\t\t\t\tself.dependency_map[d] = self.dependency_map[d] || [];\n\t\t\t\tself.dependency_map[d].push(t.id);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction prepare_dates() {\n\n\t\tself.gantt_start = self.gantt_end = null;\n\t\tfor(let task of self.tasks) {\n\t\t\t// set global start and end date\n\t\t\tif(!self.gantt_start || task._start < self.gantt_start) {\n\t\t\t\tself.gantt_start = task._start;\n\t\t\t}\n\t\t\tif(!self.gantt_end || task._end > self.gantt_end) {\n\t\t\t\tself.gantt_end = task._end;\n\t\t\t}\n\t\t}\n\t\tset_gantt_dates();\n\t\tsetup_dates();\n\t}\n\n\tfunction prepare_canvas() {\n\t\tif(self.canvas) return;\n\t\tself.canvas = Snap(self.element).addClass('gantt');\n\t}\n\n\tfunction render() {\n\t\tclear();\n\t\tsetup_groups();\n\t\tmake_grid();\n\t\tmake_dates();\n\t\tmake_bars();\n\t\tmake_arrows();\n\t\tmake_projects();\n\t\tmap_arrows_on_bars();\n\t\tset_width();\n\t\tset_scroll_position();\n\t\tbind_grid_click();\n\t}\n\n\tfunction clear() {\n\t\tself.canvas.clear();\n\t\tself._bars = [];\n\t\tself._arrows = [];\n\t}\n\n\tfunction set_gantt_dates() {\n\n\t\tif(view_is(['Quarter Day', 'Half Day'])) {\n\t\t\tself.gantt_start = self.gantt_start.clone().subtract(7, 'day');\n\t\t\tself.gantt_end = self.gantt_end.clone().add(7, 'day');\n\t\t} else if(view_is('Month')) {\n\t\t\tself.gantt_start = self.gantt_start.clone().startOf('month').subtract(1, 'Month');\n\t\t\t// self.gantt_end = self.gantt_end.clone().endOf('month').add(1, 'year');\n\t\t\tself.gantt_end = self.gantt_end.clone().endOf('month');\n\t\t} else {\n\t\t\tself.gantt_start = self.gantt_start.clone().subtract(3, 'days');// .startOf('month');\n\t\t\tself.gantt_end = self.gantt_end.clone().add(3, 'days'); // .endOf('month');\n\t\t}\n\t}\n\n\tfunction setup_dates() {\n\n\t\tself.dates = [];\n\t\tlet cur_date = null;\n\n\t\twhile(cur_date === null || cur_date < self.gantt_end) {\n\t\t\tif(!cur_date) {\n\t\t\t\tcur_date = self.gantt_start.clone();\n\t\t\t} else {\n\t\t\t\tcur_date = view_is('Month') ?\n\t\t\t\t\tcur_date.clone().add(1, 'month') :\n\t\t\t\t\tcur_date.clone().add(self.config.step, 'hours');\n\t\t\t}\n\t\t\tself.dates.push(cur_date);\n\t\t}\n\t}\n\n\tfunction setup_groups() {\n\n\t\tconst groups = ['grid', 'project', 'date', 'arrow', 'progress', 'bar', 'details'];\n\t\t// make group layers\n\t\tfor(let group of groups) {\n\t\t\tself.element_groups[group] = self.canvas.group().attr({'id': group});\n\t\t}\n\t}\n\n\tfunction set_scale(scale) {\n\t\tself.config.view_mode = scale;\n\t\tconst screen_width = 1832 - self.config.left_menu_width;\n\t\tlet min_width = 0;\n\t\tself.config.column_width = screen_width / self.dates.length;\n\n\t\tif(scale === 'Day') {\n\t\t\tmin_width = 18;\n\t\t\tself.config.step = 24;\n\t\t} else if(scale === 'Half Day') {\n\t\t\tmin_width = 38;\n\t\t\tself.config.step = 24 / 2;\n\t\t} else if(scale === 'Quarter Day') {\n\t\t\tmin_width = 38;\n\t\t\tself.config.step = 24 / 4;\n\t\t} else if(scale === 'Week') {\n\t\t\tmin_width = 140;\n\t\t\tself.config.step = 24 * 7;\n\t\t} else if(scale === 'Month') {\n\t\t\tmin_width = 20;\n\t\t\tself.config.step = 24 * 30;\n\t\t}\n\t\tself.config.column_width = self.config.column_width < min_width ? min_width : self.config.column_width;\n\t}\n\n\tfunction set_width() {\n\t\tconst cur_width = self.canvas.node.getBoundingClientRect().width;\n\t\tconst actual_width = parseFloat(self.canvas.select('#grid .grid-row')\n\t\t\t\t\t\t\t.attr('width')) + self.config.left_menu_width;\n\n\t\tif(cur_width < actual_width) {\n\t\t\tself.canvas.attr('width', actual_width);\n\t\t}\n\t}\n\n\tfunction set_scroll_position() {\n\t\tconst parent_element = document.querySelector(self.element).parentElement;\n\t\tif(!parent_element) return;\n\n\t\tconst scroll_pos = get_min_date().diff(self.gantt_start, 'hours') /\n\t\t\tself.config.step * self.config.column_width - self.config.column_width;\n\t\tparent_element.scrollLeft = scroll_pos;\n\t}\n\n\tfunction get_min_date() {\n\t\tconst task = self.tasks.reduce((acc, curr) => {\n\t\t\treturn curr._start.isSameOrBefore(acc._start) ? curr : acc;\n\t\t});\n\t\treturn task._start;\n\t}\n\n\tfunction get_max_date(tasks) {\n\t\tconst task = tasks.reduce((acc, curr) => {\n\t\t\treturn curr._end.isSameOrAfter(acc._end) ? curr : acc;\n\t\t});\n\t\treturn task.end;\n\t}\n\n\tfunction make_grid() {\n\t\tmake_grid_background();\n\t\tmake_grid_header();\n\t\tmake_grid_rows();\n\t\tmake_grid_ticks();\n\t\tmake_grid_highlights();\n\t}\n\n\tfunction make_grid_background() {\n\n\t\tconst grid_width = (self.dates.length * self.config.column_width) + self.config.left_menu_width,\n\t\t\tgrid_height = self.config.header_height + self.config.padding +\n\t\t\t\t(self.config.bar.height + self.config.padding) * self._projects._rows + 400;\n\n\t\tself.canvas.rect(0, 0, grid_width, grid_height)\n\t\t\t.addClass('grid-background')\n\t\t\t.appendTo(self.element_groups.grid);\n\n\t\tself.canvas.attr({\n\t\t\theight: grid_height + self.config.padding,\n\t\t\twidth: '110%'\n\t\t});\n\t}\n\n\tfunction make_grid_header() {\n\t\tconst header_width = self.dates.length * self.config.column_width,\n\t\t\theader_height = self.config.header_height + 10;\n\t\tself.canvas.rect(self.config.left_menu_width, 0, header_width, header_height)\n\t\t\t.addClass('grid-header')\n\t\t\t.appendTo(self.element_groups.grid);\n\t}\n\n\tfunction make_grid_rows() {\n\n\t\tconst rows = self.canvas.group().appendTo(self.element_groups.grid),\n\t\t\tlines = self.canvas.group().appendTo(self.element_groups.grid),\n\t\t\trow_width = self.dates.length * self.config.column_width,\n\t\t\trow_height = self.config.bar.height + self.config.padding,\n\t\t\tleft_menu_width = self.config.left_menu_width;\n\n\t\tlet row_y = self.config.header_height + self.config.padding / 2;\n\n\t\tself.tasks.forEach((task, index) => { // eslint-disable-line\n\n\t\t\tconst nextTask = self.tasks[index + 1];\n\t\t\tif(task._index && (!nextTask || task._line !== nextTask._line)) {\n\n\t\t\t\tself.canvas.rect(left_menu_width, row_y, row_width, row_height)\n\t\t\t\t.addClass('grid-row')\n\t\t\t\t.appendTo(rows);\n\n\t\t\t\tself.canvas.line(left_menu_width, row_y + row_height, row_width + left_menu_width, row_y + row_height)\n\t\t\t\t.addClass('row-line')\n\t\t\t\t.appendTo(lines);\n\n\t\t\t\trow_y += self.config.bar.height + self.config.padding;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction make_projects() {\n\n\t\tconst rows = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\tlines = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\ttext = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\tcurrent = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\trow_width = self.dates.length * self.config.column_width,\n\t\t\trow_height = self.config.bar.height + self.config.padding,\n\t\t\tleft_menu_width = self.config.left_menu_width;\n\n\t\tconst header_height = self.config.header_height + self.config.padding / 2;\n\t\tlet row_y = header_height;\n\n\t\tself._projects.forEach((project) => { // eslint-disable-line\n\n\t\t\tconst height = row_height * project._rows,\n\t\t\t\tlate = project._late > 0 ? '-late' : '';\n\t\t\trow_y = header_height + (row_height * project._firstRow);\n\n\t\t\tif(self.config.left_menu_width > 0)\t{\n\t\t\t\tself.canvas.rect(0, row_y, left_menu_width, height)\n\t\t\t\t\t.addClass('grid-project-row')\n\t\t\t\t\t.appendTo(rows);\n\n\t\t\t\tself.canvas.line(0, row_y + height, row_width + left_menu_width, row_y + height)\n\t\t\t\t\t.addClass('row-line-project')\n\t\t\t\t\t.appendTo(lines);\n\n\t\t\t\tself.canvas.text(self.config.left_menu_width / 2, row_y + (height / 2), project.name)\n\t\t\t\t\t.addClass('project-text')\n\t\t\t\t\t.appendTo(text);\n\t\t\t}\n\n\t\t\tif(view_is('Month') && project._currentDate) {\n\t\t\t\tconst x = (project._currentDate.startOf('day').diff(self.gantt_start, 'days') *\n\t\t\t\t\t\t\tself.config.column_width / 30) + self.config.left_menu_width;\n\n\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: row_y,\n\t\t\t\t\theight: height\n\t\t\t\t}))\n\t\t\t\t.addClass('tick-current' + late)\n\t\t\t\t.appendTo(current);\n\t\t\t} else if(view_is('Day') && project._currentDate) {\n\t\t\t\tconst x = (project._currentDate.clone().startOf('day').diff(self.gantt_start, 'hours') /\n\t\t\t\t\t\tself.config.step * self.config.column_width) + self.config.left_menu_width;\n\t\t\t\tconst width = self.config.column_width;\n\n\t\t\t\tself.canvas.rect(x, row_y, width, height)\n\t\t\t\t.addClass('current-highlight' + late)\n\t\t\t\t.appendTo(current);\n\t\t\t}\n\n\t\t});\n\t}\n\n\tfunction make_grid_ticks() {\n\t\tlet tick_x = self.config.left_menu_width,\n\t\t\ttick_height = (self.config.bar.height + self.config.padding) * self._projects._rows;\n\n\t\tfor(let date of self.dates) {\n\n\t\t\tlet tick_y = self.config.header_height + self.config.padding / 2;\n\n\t\t\tlet tick_class = 'tick';\n\t\t\t// thick tick for monday\n\t\t\tif(view_is('Day') && date.day() === 1) {\n\t\t\t\ttick_class += ' thick';\n\t\t\t}\n\t\t\t// thick tick for first week\n\t\t\tif(view_is('Week') && date.date() >= 1 && date.date() < 8) {\n\t\t\t\ttick_class += ' thick';\n\t\t\t}\n\t\t\t// thick ticks for quarters\n\t\t\tif(view_is('Month') && date.month() === 0) {\n\t\t\t\ttick_class += ' thick';\n\t\t\t\ttick_y = tick_y / 2;\n\t\t\t}\n\n\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\tx: tick_x,\n\t\t\t\ty: tick_y,\n\t\t\t\theight: tick_height\n\t\t\t}))\n\t\t\t.addClass(tick_class)\n\t\t\t.appendTo(self.element_groups.grid);\n\n\t\t\tif(view_is('Month')) {\n\t\t\t\ttick_x += date.daysInMonth() * self.config.column_width / 30;\n\t\t\t} else {\n\t\t\t\ttick_x += self.config.column_width;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction make_grid_highlights() {\n\t\t// highlight today's date\n\n\t\tconst y = 0;\n\t\tconst header_height = self.config.header_height + self.config.padding / 2;\n\t\tconst height = (self.config.bar.height + self.config.padding) * self._projects._rows +\n\t\t\t\theader_height;\n\n\t\tif(view_is('Day')) {\n\t\t\tconst x = (moment().startOf('day').diff(self.gantt_start, 'hours') /\n\t\t\t\t\t\tself.config.step * self.config.column_width) + self.config.left_menu_width;\n\t\t\tconst width = self.config.column_width;\n\n\t\t\tif (x <= self.element_groups.grid.getBBox().width && x >= self.config.left_menu_width) {\n\t\t\t\tself.canvas.rect(x, y, width, height)\n\t\t\t\t\t.addClass('today-highlight')\n\t\t\t\t\t.appendTo(self.element_groups.grid);\n\t\t\t}\n\n\t\t}else {\n\n\t\t\tconst x = (moment().startOf('day').diff(self.gantt_start, 'days') *\n\t\t\t\t\tself.config.column_width / 30) + self.config.left_menu_width;\n\n\t\t\tif (x <= self.element_groups.grid.getBBox().width && x >= self.config.left_menu_width) {\n\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: header_height,\n\t\t\t\t\theight: height - header_height\n\t\t\t\t}))\n\t\t\t\t.addClass('tick-today')\n\t\t\t\t.appendTo(self.element_groups.grid);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction make_dates() {\n\t\tfor(let date of get_dates_to_draw()) {\n\n\t\t\tlet grid_width = self.element_groups.grid.getBBox().width;\n\t\t\tdate.lower_x += self.config.left_menu_width;\n\t\t\tdate.upper_x += self.config.left_menu_width;\n\n\t\t\tself.canvas.text(date.lower_x, date.lower_y, date.lower_text)\n\t\t\t\t.addClass('lower-text')\n\t\t\t\t.appendTo(self.element_groups.date);\n\n\t\t\tif(date.upper_text) {\n\n\t\t\t\tconst $upper_text = self.canvas.text(date.upper_x, date.upper_y, date.upper_text)\n\t\t\t\t\t.addClass('upper-text')\n\t\t\t\t\t.appendTo(self.element_groups.date);\n\n\t\t\t\tdate.lower_x += ((grid_width) - (date.lower_x)) / 2;\n\n\t\t\t\tif($upper_text.getBBox().x2 > grid_width) {\n\t\t\t\t\tself.canvas.text(date.lower_x, date.upper_y, date.upper_text)\n\t\t\t\t\t.addClass('upper-text')\n\t\t\t\t\t.appendTo(self.element_groups.date);\n\n\t\t\t\t\t$upper_text.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction get_dates_to_draw() {\n\t\tlet lower_x = 0,\n\t\t\tlast_date = null;\n\n\t\tconst dates = self.dates.map((date, i) => {\n\n\t\t\tconst d = get_date_info(date, last_date, i);\n\t\t\tlast_date = date;\n\t\t\td.lower_x = lower_x + self.config.column_width / 2;\n\t\t\tlower_x += date.daysInMonth() * self.config.column_width / 30;\n\t\t\treturn d;\n\t\t});\n\t\treturn dates;\n\t}\n\n\tfunction get_date_info(date, last_date, i) {\n\t\tif(!last_date) {\n\t\t\tlast_date = date.clone().add(1, 'year').add(1, 'month').add(1, 'day');\n\t\t}\n\t\tconst min_width_month = 60;\n\n\t\tconst date_text = {\n\t\t\t'Quarter Day_lower': date.format('HH'),\n\t\t\t'Half Day_lower': date.format('HH'),\n\t\t\t'Day_lower': date.date() !== last_date.date() ? date.format('D') : '',\n\t\t\t'Week_lower': date.month() !== last_date.month() ?\n\t\t\t\tdate.format('D MMM') : date.format('D'),\n\t\t\t'Month_lower': date.format(self.config.column_width < min_width_month ? 'MM' : 'MMMM'),\n\t\t\t'Quarter Day_upper': date.date() !== last_date.date() ? date.format('D MMM') : '',\n\t\t\t'Half Day_upper': date.date() !== last_date.date() ?\n\t\t\t\tdate.month() !== last_date.month() ?\n\t\t\t\tdate.format('D MMM') : date.format('D') : '',\n\t\t\t'Day_upper': date.month() !== last_date.month() ? date.format('MMMM') : '',\n\t\t\t'Week_upper': date.month() !== last_date.month() ? date.format('MMMM') : '',\n\t\t\t'Month_upper': date.year() !== last_date.year() ? date.format('YYYY') : ''\n\t\t};\n\n\t\tconst base_pos = {\n\t\t\tx: i * self.config.column_width,\n\t\t\tlower_y: self.config.header_height,\n\t\t\tupper_y: self.config.header_height - 25\n\t\t};\n\n\t\tconst x_pos = {\n\t\t\t'Quarter Day_lower': (self.config.column_width * 4) / 2,\n\t\t\t'Quarter Day_upper': 0,\n\t\t\t'Half Day_lower': (self.config.column_width * 2) / 2,\n\t\t\t'Half Day_upper': 0,\n\t\t\t'Day_lower': self.config.column_width / 2,\n\t\t\t'Day_upper': (self.config.column_width * 30) / 2,\n\t\t\t'Week_lower': 0,\n\t\t\t'Week_upper': (self.config.column_width * 4) / 2,\n\t\t\t// 'Month_lower': self.config.column_width / 2,\n\t\t\t'Month_upper': (self.config.column_width * (12 - date.month())) / 2\n\n\t\t};\n\n\t\treturn {\n\t\t\tupper_text: date_text[`${self.config.view_mode}_upper`],\n\t\t\tlower_text: date_text[`${self.config.view_mode}_lower`],\n\t\t\tupper_x: base_pos.x + x_pos[`${self.config.view_mode}_upper`],\n\t\t\tupper_y: base_pos.upper_y,\n\t\t\t// lower_x: base_pos.x + x_pos[`${self.config.view_mode}_lower`],\n\t\t\tlower_y: base_pos.lower_y\n\t\t};\n\t}\n\n\tfunction get_date_progress(task) {\n\t\tconst duration = (task._end.diff(task._start, 'hours') + 24) / self.config.step;\n\t\treturn task._start.clone().add((duration * task.progress) / 100, 'days');\n\t}\n\n\tfunction make_arrows() {\n\t\tself._arrows = [];\n\t\tfor(let task of self.tasks) {\n\t\t\tlet arrows = [];\n\t\t\tarrows = task.dependencies.map(dep => {\n\t\t\t\tconst dependency = get_task(dep);\n\t\t\t\tif(!dependency) return;\n\t\t\t\tconst arrow = Arrow(\n\t\t\t\t\tself, // gt\n\t\t\t\t\tself._bars[dependency._index], // from_task\n\t\t\t\t\tself._bars[task._index] // to_task\n\t\t\t\t);\n\t\t\t\tself.element_groups.arrow.add(arrow.element);\n\t\t\t\treturn arrow; // eslint-disable-line\n\t\t\t}).filter(arr => arr); // filter falsy values\n\t\t\tself._arrows = self._arrows.concat(arrows);\n\t\t}\n\t}\n\n\tfunction make_bars() {\n\t\tself._bars = self.tasks.map((task, i) => {\n\n\t\t\tconst bar = Bar(self, task);\n\t\t\tself.element_groups.bar.add(bar.group);\n\t\t\treturn bar;\n\t\t});\n\t}\n\n\tfunction map_arrows_on_bars() {\n\t\tfor(let bar of self._bars) {\n\t\t\tbar.arrows = self._arrows.filter(arrow => {\n\t\t\t\treturn (arrow.from_task.task.id === bar.task.id) ||\n\t\t\t\t\t(arrow.to_task.task.id === bar.task.id);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction bind_grid_click() {\n\t\tself.element_groups.grid.click(() => {\n\t\t\tunselect_all();\n\t\t\tself.element_groups.details\n\t\t\t\t.selectAll('.details-wrapper')\n\t\t\t\t.forEach(el => el.addClass('hide'));\n\t\t});\n\t}\n\n\tfunction unselect_all() {\n\t\tself.canvas.selectAll('.bar-wrapper').forEach(el => {\n\t\t\tel.removeClass('active');\n\t\t});\n\t}\n\n\tfunction view_is(modes) {\n\t\tif (typeof modes === 'string') {\n\t\t\treturn self.config.view_mode === modes;\n\t\t} else if(Array.isArray(modes)) {\n\t\t\tfor (let mode of modes) {\n\t\t\t\tif(self.config.view_mode === mode) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction get_task(id) {\n\t\treturn self.tasks.find((task) => {\n\t\t\treturn task.id === id;\n\t\t});\n\t}\n\n\tfunction get_bar(id) {\n\t\treturn self._bars.find((bar) => {\n\t\t\treturn bar.task.id === id;\n\t\t});\n\t}\n\n\t// function get_project(id) {\n\t// \treturn self._projects.find(project => project.id === id);\n\t// }\n\n\tfunction generate_id(task) {\n\t\treturn task.name + '_' + Math.random().toString(36).slice(2, 12);\n\t}\n\n\tfunction trigger_event(event, args) {\n\t\tif(self.config['on_' + event]) {\n\t\t\tself.config['on_' + event].apply(null, args);\n\t\t}\n\t}\n\n\tinit();\n\n\treturn self;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Gantt.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/gantt.scss\n ** module id = 1\n ** module chunks = 0\n **/","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gantt .grid-background{fill:none}.gantt .grid-header{fill:#fff;stroke:#e0e0e0;stroke-width:1.4}.gantt .grid-row{fill:#fff}.gantt .grid-row:nth-child(2n){fill:#f5f5f5}.gantt .row-line{stroke:#ebeff2}.gantt .row-line-project{stroke:#e0e0e0;stroke-width:1.4}.gantt .tick{stroke:#e0e0e0;stroke-width:.3}.gantt .tick.thick{stroke-width:.4}.gantt .tick-current,.gantt .tick-current-late,.gantt .tick-today{stroke-width:1;opacity:.8;stroke-dasharray:7}.gantt .tick-today{stroke:#2ec12e}.gantt .tick-current{stroke:#82b1f3}.gantt .tick-current-late{stroke:#f1aa9e}.gantt .current-highlight,.gantt .current-highlight-late,.gantt .today-highlight{opacity:.5}.gantt .today-highlight{fill:#b9f3b9}.gantt .current-highlight{fill:#82b1f3}.gantt .current-highlight-late{fill:#f1aa9e}.gantt #arrow{fill:none;stroke:#666;stroke-width:1.4}.gantt .bar{fill:#485f7d;stroke:#8d99a6;stroke-width:0;transition:stroke-width .3s ease}.gantt .bar-progress{fill:#b8c2cc}.gantt .bar-invalid{fill:transparent;stroke:#8d99a6;stroke-width:1;stroke-dasharray:5}.gantt .bar-invalid~.bar-label{fill:#555}.gantt .bar-label{fill:#fff;dominant-baseline:central;text-anchor:middle;font-size:12px;font-weight:lighter;letter-spacing:.8px}.gantt .bar-label.big{fill:#555;text-anchor:start}.gantt .handle{fill:#ddd;cursor:ew-resize;opacity:0;visibility:hidden;transition:opacity .3s ease}.gantt .bar-wrapper{cursor:pointer}.gantt .bar-wrapper:hover .bar{stroke-width:2}.gantt .bar-wrapper:hover .handle{visibility:visible;opacity:1}.gantt .bar-wrapper.active .bar{stroke-width:2}.gantt .lower-text,.gantt .upper-text{font-size:12px;text-anchor:middle}.gantt .upper-text{fill:#555}.gantt .lower-text{fill:#333}.gantt .project-text{fill:#555;text-anchor:middle}.gantt #details .details-container{background:#fff;display:inline-block;padding:12px}.gantt #details .details-container h5,.gantt #details .details-container p{margin:0}.gantt #details .details-container h5{font-size:12px;font-weight:700;margin-bottom:10px;color:#555}.gantt #details .details-container p{font-size:12px;margin-bottom:6px;color:#666}.gantt #details .details-container p:last-child{margin-bottom:0}.gantt .hide{display:none}.gantt .grid-project-row{fill:#f5f5f5}.gantt .avatarContainer{height:64px;display:flex;align-items:center;padding-right:10px;float:left}.gantt .avatar{height:50px!important}\", \"\", {\"version\":3,\"sources\":[\"/home/f4103757/workspace/gantt/src/src/gantt.scss\"],\"names\":[],\"mappings\":\"AAmBA,wBAGE,SAAU,CAHZ,oBAME,UACA,eACA,gBAAiB,CARnB,iBAWE,SAAa,CAXf,+BAcE,YA7BgB,CAelB,iBAiBE,cA/B0B,CAc5B,yBAoBE,eACA,gBAAiB,CArBnB,aAwBE,eACA,eAAiB,CAzBnB,mBA2BG,eAAiB,CA3BpB,kEAgCE,eACA,WACA,kBAAmB,CAlCrB,mBAsCE,cA1Ca,CAIf,qBA0CE,cAjDkB,CAOpB,0BA8CE,cApDiB,CAMnB,iFAkDE,UAAY,CAlDd,wBAsDE,YAzDmB,CAGrB,0BA0DE,YAjEkB,CAOpB,+BA8DE,YApEiB,CAMnB,cAkEE,UACA,YACA,gBAAiB,CApEnB,YAwEE,aACA,eACA,eACA,gCAAiC,CA3EnC,qBA8EE,YAvFY,CASd,oBAiFE,iBACA,eACA,eACA,kBAAmB,CApFrB,+BAuFG,SAlGc,CAWjB,kBA2FE,UACA,0BACA,mBACA,eACA,oBACA,mBAAqB,CAhGvB,sBAmGG,UACA,iBAAkB,CApGrB,eAyGE,UACA,iBACA,UACA,kBACA,2BAA4B,CA7G9B,oBAiHE,cAAe,CAjHjB,+BAqHI,cAAe,CArHnB,kCAyHI,mBACA,SAAU,CA1Hd,gCAgII,cAAe,CAhInB,sCAsIE,eACA,kBAAmB,CAvIrB,mBA0IE,SArJe,CAWjB,mBA6IE,SAvJe,CAUjB,qBAgJE,UACA,kBAAmB,CAjJrB,mCAqJE,gBACA,qBACA,YAAa,CAvJf,2EA0JG,QAAS,CA1JZ,sCA8JG,eACA,gBACA,mBACA,UA5Kc,CAWjB,qCAqKG,eACA,kBACA,UAnLc,CAYjB,gDA2KG,eAAgB,CA3KnB,aAgLE,YAAa,CAhLf,yBAoLE,YAnMgB,CAelB,wBAwLE,YACA,aACA,mBACA,mBACA,UAAW,CA5Lb,eAgME,qBAAuB,CACvB\",\"file\":\"gantt.scss\",\"sourcesContent\":[\"// $bar-color: #b8c2cc;\\n$bar-color: #485f7d;\\n$bar-stroke: #8D99A6;\\n$border-color: #e0e0e0;\\n$light-bg: #f5f5f5;\\n$light-border-color: #ebeff2;\\n$handle-color: #ddd;\\n$text-muted: #666;\\n$text-light: #555;\\n$text-color: #333;\\n$grey: #b8c2cc;\\n$blue: #3887f3;\\n$light-blue: #82b1f3;\\n$light-red: #f1aa9e;\\n$light-yellow: #fcf8e3;\\n$green: #2ec12e;\\n$light-green: #b9f3b9;\\n\\n\\n.gantt {\\n\\n\\t.grid-background {\\n\\t\\tfill: none;\\n\\t}\\n\\t.grid-header {\\n\\t\\tfill: #ffffff;\\n\\t\\tstroke: $border-color;\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\t.grid-row {\\n\\t\\tfill: #ffffff;\\n\\t}\\n\\t.grid-row:nth-child(even) {\\n\\t\\tfill: $light-bg;\\n\\t}\\n\\t.row-line {\\n\\t\\tstroke: $light-border-color;\\t\\t\\n\\t}\\n\\t.row-line-project {\\t\\t\\n\\t\\tstroke: $border-color;\\t\\t\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\t.tick {\\n\\t\\tstroke: $border-color;\\n\\t\\tstroke-width: 0.3;\\n\\t\\t&.thick {\\n\\t\\t\\tstroke-width: 0.4;\\n\\t\\t}\\n\\t}\\n\\n\\t.tick-today, .tick-current, .tick-current-late {\\t\\t\\n\\t\\tstroke-width: 1;\\t\\n\\t\\topacity: 0.8;\\t\\n\\t\\tstroke-dasharray: 7;\\n\\t}\\n\\n\\t.tick-today {\\n\\t\\tstroke: $green;\\t\\t\\n\\t}\\n\\n\\t.tick-current {\\n\\t\\tstroke: $light-blue;\\n\\t\\t\\n\\t}\\n\\t.tick-current-late {\\n\\t\\tstroke: $light-red;\\n\\t}\\n\\n\\t.today-highlight, .current-highlight, .current-highlight-late{\\n\\t\\topacity: 0.5;\\n\\t}\\n\\n\\t.today-highlight {\\n\\t\\tfill: $light-green;\\t\\t\\n\\t}\\n\\n\\t.current-highlight {\\n\\t\\tfill: $light-blue;\\n\\t}\\n\\n\\t.current-highlight-late {\\n\\t\\tfill: $light-red;\\n\\t}\\n\\n\\t#arrow {\\n\\t\\tfill: none;\\n\\t\\tstroke: $text-muted;\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\n\\t.bar {\\n\\t\\tfill: $bar-color;\\n\\t\\tstroke: $bar-stroke;\\n\\t\\tstroke-width: 0;\\n\\t\\ttransition: stroke-width .3s ease;\\n\\t}\\n\\t.bar-progress {\\n\\t\\tfill: $grey;\\n\\t}\\n\\t.bar-invalid {\\n\\t\\tfill: transparent;\\n\\t\\tstroke: $bar-stroke;\\n\\t\\tstroke-width: 1;\\n\\t\\tstroke-dasharray: 5;\\n\\n\\t\\t&~.bar-label {\\n\\t\\t\\tfill: $text-light;\\n\\t\\t}\\n\\t}\\n\\t.bar-label {\\n\\t\\tfill: #fff;\\n\\t\\tdominant-baseline: central;\\n\\t\\ttext-anchor: middle;\\n\\t\\tfont-size: 12px;\\n\\t\\tfont-weight: lighter;\\n\\t\\tletter-spacing: 0.8px;\\n\\n\\t\\t&.big {\\n\\t\\t\\tfill: $text-light;\\n\\t\\t\\ttext-anchor: start;\\n\\t\\t}\\n\\t}\\n\\n\\t.handle {\\n\\t\\tfill: $handle-color;\\n\\t\\tcursor: ew-resize;\\n\\t\\topacity: 0;\\n\\t\\tvisibility: hidden;\\n\\t\\ttransition: opacity .3s ease;\\n\\t}\\n\\n\\t.bar-wrapper {\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover {\\n\\t\\t\\t.bar {\\n\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.handle {\\n\\t\\t\\t\\tvisibility: visible;\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.active {\\n\\t\\t\\t.bar {\\n\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.lower-text, .upper-text {\\n\\t\\tfont-size: 12px;\\n\\t\\ttext-anchor: middle;\\n\\t}\\n\\t.upper-text {\\n\\t\\tfill: $text-light;\\n\\t}\\n\\t.lower-text {\\n\\t\\tfill: $text-color;\\n\\t}\\n\\t.project-text{\\n\\t\\tfill: $text-light;\\n\\t\\ttext-anchor: middle;\\n\\t}\\n\\n\\t#details .details-container {\\n\\t\\tbackground: #fff;\\n\\t\\tdisplay: inline-block;\\n\\t\\tpadding: 12px;\\n\\n\\t\\th5, p {\\n\\t\\t\\tmargin: 0;\\n\\t\\t}\\n\\n\\t\\th5 {\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t\\tcolor: $text-light;\\n\\t\\t}\\n\\n\\t\\tp {\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t\\tcolor: $text-muted;\\n\\t\\t}\\n\\n\\t\\tp:last-child {\\n\\t\\t\\tmargin-bottom: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t.hide {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.grid-project-row {\\n\\t\\tfill: $light-bg;\\n\\t}\\n\\n\\t.avatarContainer{\\n\\t\\theight: 64px;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tpadding-right: 10px;\\n\\t\\tfloat: left;\\n\\t\\t\\n\\t}\\n\\t.avatar{\\n\\t\\theight: 50px !important;\\n\\t}\\t\\n\\t\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?sourceMap!./~/sass-loader?sourceMap!./src/gantt.scss\n ** module id = 2\n ** module chunks = 0\n **/","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 4\n ** module chunks = 0\n **/","/* global moment, Snap */\n/*\n\tClass: Bar\n\n\tOpts:\n\t\tgt: Gantt object\n\t\ttask: task object\n*/\n\nimport './gantt.scss';\n\nexport default function Bar(gt, task) {\n\n\tconst self = {};\n\n\tfunction init() {\n\t\tset_defaults();\n\t\tprepare();\n\t\tdraw();\n\t\tbind();\n\t}\n\n\tfunction set_defaults() {\n\t\tself.action_completed = false;\n\t\tself.task = task;\n\t}\n\n\tfunction prepare() {\n\t\tprepare_values();\n\t\tprepare_plugins();\n\t}\n\n\tfunction prepare_values() {\n\t\tself.invalid = self.task.invalid;\n\t\tself.height = gt.config.bar.height;\n\t\tself.x = compute_x();\n\t\tself.y = compute_y();\n\t\tself.corner_radius = 3;\n\t\tself.duration = (self.task._end.diff(self.task._start, 'hours') + 24) / gt.config.step;\n\t\tself.durationDays = (self.task._end.diff(self.task._start, 'days') + 1);\n\t\tself.width = gt.config.column_width * self.duration;\n\t\tself.progress_width = gt.config.column_width * self.duration * (self.task.progress / 100) || 0;\n\t\tself.group = gt.canvas.group().addClass('bar-wrapper').addClass(self.task.custom_class || '');\n\t\tself.bar_group = gt.canvas.group().addClass('bar-group').appendTo(self.group);\n\t\tself.handle_group = gt.canvas.group().addClass('handle-group').appendTo(self.group);\n\t}\n\n\tfunction prepare_plugins() {\n\t\tSnap.plugin(function (Snap, Element, Paper, global, Fragment) {\n\t\t\tElement.prototype.getX = function () {\n\t\t\t\treturn +this.attr('x');\n\t\t\t};\n\t\t\tElement.prototype.getY = function () {\n\t\t\t\treturn +this.attr('y');\n\t\t\t};\n\t\t\tElement.prototype.getWidth = function () {\n\t\t\t\treturn +this.attr('width');\n\t\t\t};\n\t\t\tElement.prototype.getHeight = function () {\n\t\t\t\treturn +this.attr('height');\n\t\t\t};\n\t\t\tElement.prototype.getEndX = function () {\n\t\t\t\treturn this.getX() + this.getWidth();\n\t\t\t};\n\t\t});\n\t}\n\n\tfunction draw() {\n\t\tdraw_bar();\n\t\tdraw_progress_bar();\n\t\tdraw_label();\n\t\tdraw_resize_handles();\n\t}\n\n\tfunction draw_bar() {\n\t\tself.$bar = gt.canvas.rect(self.x, self.y,\n\t\t\tself.width, self.height,\n\t\t\tself.corner_radius, self.corner_radius)\n\t\t\t.addClass('bar')\n\t\t\t.appendTo(self.bar_group);\n\t\tif (self.invalid) {\n\t\t\tself.$bar.addClass('bar-invalid');\n\t\t}\n\t}\n\n\tfunction draw_progress_bar() {\n\t\tif (self.invalid) return;\n\t\tself.$bar_progress = gt.canvas.rect(self.x, self.y,\n\t\t\tself.progress_width, self.height,\n\t\t\tself.corner_radius, self.corner_radius)\n\t\t\t.addClass('bar-progress')\n\t\t\t.appendTo(self.bar_group);\n\t}\n\n\tfunction draw_label() {\n\t\tgt.canvas.text(self.x + self.width / 2,\n\t\t\tself.y + self.height / 2,\n\t\t\tself.task.name)\n\t\t\t.addClass('bar-label')\n\t\t\t.appendTo(self.bar_group);\n\t\tupdate_label_position();\n\t}\n\n\tfunction draw_resize_handles() {\n\t\tif (self.invalid) return;\n\n\t\tconst bar = self.$bar,\n\t\t\thandle_width = 8;\n\n\t\tgt.canvas.rect(bar.getX() + bar.getWidth() - 9, bar.getY() + 1,\n\t\t\thandle_width, self.height - 2, self.corner_radius, self.corner_radius)\n\t\t\t.addClass('handle right')\n\t\t\t.appendTo(self.handle_group);\n\t\tgt.canvas.rect(bar.getX() + 1, bar.getY() + 1,\n\t\t\thandle_width, self.height - 2, self.corner_radius, self.corner_radius)\n\t\t\t.addClass('handle left')\n\t\t\t.appendTo(self.handle_group);\n\n\t\tif (self.task.progress && self.task.progress < 100) {\n\t\t\tgt.canvas.polygon(get_progress_polygon_points())\n\t\t\t\t.addClass('handle progress')\n\t\t\t\t.appendTo(self.handle_group);\n\t\t}\n\t}\n\n\tfunction get_progress_polygon_points() {\n\t\tconst bar_progress = self.$bar_progress;\n\t\treturn [\n\t\t\tbar_progress.getEndX() - 5, bar_progress.getY() + bar_progress.getHeight(),\n\t\t\tbar_progress.getEndX() + 5, bar_progress.getY() + bar_progress.getHeight(),\n\t\t\tbar_progress.getEndX(), bar_progress.getY() + bar_progress.getHeight() - 8.66\n\t\t];\n\t}\n\n\tfunction bind() {\n\t\tif (self.invalid) return;\n\t\tsetup_click_event();\n\t\tshow_details();\n\t\tbind_resize();\n\t\tbind_drag();\n\t\tbind_resize_progress();\n\t}\n\n\tfunction show_details() {\n\t\tconst popover_group = gt.element_groups.details;\n\t\tself.details_box = popover_group\n\t\t\t.select(`.details-wrapper[data-task='${self.task.id}']`);\n\n\t\tif (!self.details_box) {\n\t\t\tself.details_box = gt.canvas.group()\n\t\t\t\t.addClass('details-wrapper hide')\n\t\t\t\t.attr('data-task', self.task.id)\n\t\t\t\t.appendTo(popover_group);\n\n\t\t\trender_details();\n\n\t\t\tconst f = gt.canvas.filter(\n\t\t\t\tSnap.filter.shadow(0, 1, 1, '#666', 0.6));\n\t\t\tself.details_box.attr({\n\t\t\t\tfilter: f\n\t\t\t});\n\t\t}\n\n\t\tself.group.click((e) => {\n\t\t\tif (self.action_completed) {\n\t\t\t\t// just finished a move action, wait for a few seconds\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpopover_group.selectAll('.details-wrapper')\n\t\t\t\t.forEach(el => el.addClass('hide'));\n\t\t\tself.details_box.removeClass('hide');\n\t\t});\n\t}\n\n\tfunction render_details() {\n\t\tconst {x, y} = get_details_position();\n\t\tself.details_box.transform(`t${x},${y}`);\n\t\tself.details_box.clear();\n\n\t\tconst html = get_details_html();\n\t\tconst foreign_object =\n\t\t\tSnap.parse(`<foreignObject width=\"5000\" height=\"2000\">\n\t\t\t\t<body xmlns=\"http://www.w3.org/1999/xhtml\">\n\t\t\t\t\t${html}\n\t\t\t\t</body>\n\t\t\t\t</foreignObject>`);\n\t\tself.details_box.append(foreign_object);\n\t}\n\n\tfunction get_details_html() {\n\n\t\t// custom html in config\n\t\tif(gt.config.custom_popup_html) {\n\t\t\tconst html = gt.config.custom_popup_html;\n\t\t\tif(typeof html === 'string') {\n\t\t\t\treturn html;\n\t\t\t}\n\t\t\tif(isFunction(html)) {\n\t\t\t\treturn html(task);\n\t\t\t}\n\t\t}\n\n\t\t// const start_date = self.task._start.format('DD/MM/YYYY');\n\t\t// const end_date = self.task._end.format('DD/MM/YYYY');\n\t\tconst heading = `${self.task.name}`;\n\n\t\tconst line_1 = `Duração: ${self.durationDays} dias`;\n\t\tconst line_2 = self.task.progress ? `Percentual: ${self.task.progress}%` : null;\n\n\t\tlet periodos = '';\n\t\tself.task.periodos.forEach(periodo =>{\n\n\t\t\tconst tipo = periodo.tipo.nome;\n\t\t\tconst dataInicio = moment(periodo.dataInicio).format('DD/MM/YYYY');\n\t\t\tconst dataFim = moment(periodo.dataFim).format('DD/MM/YYYY');\n\n\t\t\tperiodos = periodos.concat(`\n\t\t\t\t<p>${tipo}: ${dataInicio} - ${dataFim}</p>\n\t\t\t\t`);\n\t\t});\n\n\t\tlet responsaveis = '';\n\t\tself.task.responsaveis.forEach((responsavel, i) =>{\n\n\t\t\tconst chave = responsavel.responsavel.chave;\n\t\t\tconst nome = responsavel.responsavel.nome;\n\t\t\tconst ramal = responsavel.responsavel.telefone;\n\t\t\tconst celular = responsavel.responsavel.celular;\n\t\t\tconst link = `https://connections.bb.com.br/profiles/html/myProfileView.do?uid=${chave}`;\n\t\t\tresponsaveis = responsaveis.concat(`\n\t\t\t\t${ i !== 0 ? `<hr />` : ``}\n\t\t\t\t<a href=${link} target=\"_blank\" class=\"avatarContainer\">\n\t\t\t\t\t<img src=https://connections.bb.com.br/profiles/photo.do?uid=${chave} class=\"avatar\" />\n\t\t\t\t</a>\n\t\t\t\t<p>${chave} - ${nome}</p>\n\t\t\t\t<p>Ramal: ${ramal}</p>\n\t\t\t\t<p>Celular: ${celular}</p>\n\t\t\t\t`);\n\t\t});\n\n\t\tlet uors = '';\n\t\tself.task.uors.forEach(uor =>{\n\n\t\t\tconst nome = uor.uor.nomeReduzido;\n\n\t\t\tuors = uors.concat(`\n\t\t\t\t<a href=\"https://humanograma.intranet.bb.com.br/uor/${uor.uor_id}\" target=\"_blank\">\n\t\t\t\t\t<p>${nome}</p>\n\t\t\t\t</a>\n\t\t\t\t`);\n\t\t});\n\n\t\tconst html = `\n\t\t\t<div class=\"details-container\">\n\t\t\t\t<h5>${heading}</h5>\n\t\t\t\t<p>${line_1}</p>\n\t\t\t\t${\n\t\t\t\t\tline_2 ? `<p>${line_2}</p>` : ''\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tperiodos ? `\n\t\t\t\t\t<br />\n\t\t\t\t\t<h5>Datas:</h5>\n\t\t\t\t\t${periodos}\n\t\t\t\t\t` : ''\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tuors ? `\n\t\t\t\t\t<br />\n\t\t\t\t\t<h5>Área(s):</h5>\n\t\t\t\t\t${uors}\n\t\t\t\t\t` : ''\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tresponsaveis ? `\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<h5>Contato(s):</h5>\n\t\t\t\t\t\t${responsaveis}\n\t\t\t\t\t\t` : ''\n\t\t\t\t}\n\t\t\t</div>\n\t\t`;\n\t\treturn html;\n\t}\n\n\tfunction get_details_position() {\n\t\treturn {\n\t\t\tx: self.$bar.getEndX() + 2,\n\t\t\ty: self.$bar.getY() - 10\n\t\t};\n\t}\n\n\tfunction bind_resize() {\n\t\tconst { left, right } = get_handles();\n\n\t\tleft.drag(onmove_left, onstart, onstop_left);\n\t\tright.drag(onmove_right, onstart, onstop_right);\n\n\t\tfunction onmove_right(dx, dy) {\n\t\t\tonmove_handle_right(dx, dy);\n\t\t}\n\t\tfunction onstop_right() {\n\t\t\tonstop_handle_right();\n\t\t}\n\n\t\tfunction onmove_left(dx, dy) {\n\t\t\tonmove_handle_left(dx, dy);\n\t\t}\n\t\tfunction onstop_left() {\n\t\t\tonstop_handle_left();\n\t\t}\n\t}\n\n\tfunction get_handles() {\n\t\treturn {\n\t\t\tleft: self.handle_group.select('.handle.left'),\n\t\t\tright: self.handle_group.select('.handle.right')\n\t\t};\n\t}\n\n\tfunction bind_drag() {\n\t\tself.bar_group.drag(onmove, onstart, onstop);\n\t}\n\n\tfunction bind_resize_progress() {\n\t\tconst bar = self.$bar,\n\t\t\tbar_progress = self.$bar_progress,\n\t\t\thandle = self.group.select('.handle.progress');\n\t\thandle && handle.drag(on_move, on_start, on_stop);\n\n\t\tfunction on_move(dx, dy) {\n\t\t\tif (dx > bar_progress.max_dx) {\n\t\t\t\tdx = bar_progress.max_dx;\n\t\t\t}\n\t\t\tif (dx < bar_progress.min_dx) {\n\t\t\t\tdx = bar_progress.min_dx;\n\t\t\t}\n\n\t\t\tbar_progress.attr('width', bar_progress.owidth + dx);\n\t\t\thandle.attr('points', get_progress_polygon_points());\n\t\t\tbar_progress.finaldx = dx;\n\t\t}\n\t\tfunction on_stop() {\n\t\t\tif (!bar_progress.finaldx) return;\n\t\t\tprogress_changed();\n\t\t\tset_action_completed();\n\t\t}\n\t\tfunction on_start() {\n\t\t\tbar_progress.finaldx = 0;\n\t\t\tbar_progress.owidth = bar_progress.getWidth();\n\t\t\tbar_progress.min_dx = -bar_progress.getWidth();\n\t\t\tbar_progress.max_dx = bar.getWidth() - bar_progress.getWidth();\n\t\t}\n\t}\n\n\tfunction onstart() {\n\t\tconst bar = self.$bar;\n\t\tbar.ox = bar.getX();\n\t\tbar.oy = bar.getY();\n\t\tbar.owidth = bar.getWidth();\n\t\tbar.finaldx = 0;\n\t\trun_method_for_dependencies('onstart');\n\t}\n\tself.onstart = onstart;\n\n\tfunction onmove(dx, dy) {\n\t\tconst bar = self.$bar;\n\t\tbar.finaldx = get_snap_position(dx);\n\t\tupdate_bar_position({x: bar.ox + bar.finaldx});\n\t\trun_method_for_dependencies('onmove', [dx, dy]);\n\t}\n\tself.onmove = onmove;\n\n\tfunction onstop() {\n\t\tconst bar = self.$bar;\n\t\tif (!bar.finaldx) return;\n\t\tdate_changed();\n\t\tset_action_completed();\n\t\trun_method_for_dependencies('onstop');\n\t}\n\tself.onstop = onstop;\n\n\tfunction onmove_handle_left(dx, dy) {\n\t\tconst bar = self.$bar;\n\t\tbar.finaldx = get_snap_position(dx);\n\t\tupdate_bar_position({\n\t\t\tx: bar.ox + bar.finaldx,\n\t\t\twidth: bar.owidth - bar.finaldx\n\t\t});\n\t\trun_method_for_dependencies('onmove', [dx, dy]);\n\t}\n\tself.onmove_handle_left = onmove_handle_left;\n\n\tfunction onstop_handle_left() {\n\t\tconst bar = self.$bar;\n\t\tif (bar.finaldx) date_changed();\n\t\tset_action_completed();\n\t\trun_method_for_dependencies('onstop');\n\t}\n\tself.onstop_handle_left = onstop_handle_left;\n\n\tfunction run_method_for_dependencies(fn, args) {\n\t\tconst dm = gt.dependency_map;\n\t\tif (dm[self.task.id]) {\n\t\t\tfor (let deptask of dm[self.task.id]) {\n\t\t\t\tconst dt = gt.get_bar(deptask);\n\t\t\t\tdt[fn].apply(dt, args);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onmove_handle_right(dx, dy) {\n\t\tconst bar = self.$bar;\n\t\tbar.finaldx = get_snap_position(dx);\n\t\tupdate_bar_position({width: bar.owidth + bar.finaldx});\n\t}\n\n\tfunction onstop_handle_right() {\n\t\tconst bar = self.$bar;\n\t\tif (bar.finaldx) date_changed();\n\t\tset_action_completed();\n\t}\n\n\tfunction update_bar_position({x = null, width = null}) {\n\t\tconst bar = self.$bar;\n\t\tif (x) {\n\t\t\t// get all x values of parent task\n\t\t\tconst xs = task.dependencies.map(dep => {\n\t\t\t\treturn gt.get_bar(dep).$bar.getX();\n\t\t\t});\n\t\t\t// child task must not go before parent\n\t\t\tconst valid_x = xs.reduce((prev, curr) => {\n\t\t\t\treturn x >= curr;\n\t\t\t}, x);\n\t\t\tif(!valid_x) {\n\t\t\t\twidth = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tupdate_attr(bar, 'x', x);\n\t\t}\n\t\tif (width && width >= gt.config.column_width) {\n\t\t\tupdate_attr(bar, 'width', width);\n\t\t}\n\t\tupdate_label_position();\n\t\tupdate_handle_position();\n\t\tupdate_progressbar_position();\n\t\tupdate_arrow_position();\n\t\tupdate_details_position();\n\t}\n\n\tfunction setup_click_event() {\n\t\tself.group.click(function () {\n\t\t\tif (self.action_completed) {\n\t\t\t\t// just finished a move action, wait for a few seconds\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (self.group.hasClass('active')) {\n\t\t\t\tgt.trigger_event('click', [self.task]);\n\t\t\t}\n\t\t\tgt.unselect_all();\n\t\t\tself.group.toggleClass('active');\n\t\t});\n\t}\n\n\tfunction date_changed() {\n\t\tconst { new_start_date, new_end_date } = compute_start_end_date();\n\t\tself.task._start = new_start_date;\n\t\tself.task._end = new_end_date;\n\t\trender_details();\n\t\tgt.trigger_event('date_change',\n\t\t\t[self.task, new_start_date, new_end_date]);\n\t}\n\n\tfunction progress_changed() {\n\t\tconst new_progress = compute_progress();\n\t\tself.task.progress = new_progress;\n\t\trender_details();\n\t\tgt.trigger_event('progress_change',\n\t\t\t[self.task, new_progress]);\n\t}\n\n\tfunction set_action_completed() {\n\t\tself.action_completed = true;\n\t\tsetTimeout(() => self.action_completed = false, 2000);\n\t}\n\n\tfunction compute_start_end_date() {\n\t\tconst bar = self.$bar;\n\t\tconst x_in_units = bar.getX() / gt.config.column_width;\n\t\tconst new_start_date = gt.gantt_start.clone().add(x_in_units * gt.config.step, 'hours');\n\t\tconst width_in_units = bar.getWidth() / gt.config.column_width;\n\t\tconst new_end_date = new_start_date.clone().add(width_in_units * gt.config.step, 'hours');\n\t\t// lets say duration is 2 days\n\t\t// start_date = May 24 00:00:00\n\t\t// end_date = May 24 + 2 days = May 26 (incorrect)\n\t\t// so subtract 1 second so that\n\t\t// end_date = May 25 23:59:59\n\t\tnew_end_date.add('-1', 'seconds');\n\t\treturn { new_start_date, new_end_date };\n\t}\n\n\tfunction compute_progress() {\n\t\tconst progress = self.$bar_progress.getWidth() / self.$bar.getWidth() * 100;\n\t\treturn parseInt(progress, 10);\n\t}\n\n\tfunction compute_x() {\n\t\tlet x = self.task._start.diff(gt.gantt_start, 'hours') /\n\t\t\tgt.config.step * gt.config.column_width;\n\n\t\tif (gt.view_is('Month')) {\n\t\t\tx = self.task._start.diff(gt.gantt_start, 'days') *\n\t\t\t\tgt.config.column_width / 30;\n\t\t}\n\t\treturn x + gt.config.left_menu_width;\n\t}\n\n\tfunction compute_y() {\n\t\treturn gt.config.header_height + gt.config.padding +\n\t\t\tself.task._line * (self.height + gt.config.padding);\n\t}\n\n\tfunction get_snap_position(dx) {\n\t\tlet odx = dx, rem, position;\n\n\t\tif (gt.view_is('Week')) {\n\t\t\trem = dx % (gt.config.column_width / 7);\n\t\t\tposition = odx - rem +\n\t\t\t\t((rem < gt.config.column_width / 14) ? 0 : gt.config.column_width / 7);\n\t\t} else if (gt.view_is('Month')) {\n\t\t\trem = dx % (gt.config.column_width / 30);\n\t\t\tposition = odx - rem +\n\t\t\t\t((rem < gt.config.column_width / 60) ? 0 : gt.config.column_width / 30);\n\t\t} else {\n\t\t\trem = dx % gt.config.column_width;\n\t\t\tposition = odx - rem +\n\t\t\t\t((rem < gt.config.column_width / 2) ? 0 : gt.config.column_width);\n\t\t}\n\t\treturn position;\n\t}\n\n\tfunction update_attr(element, attr, value) {\n\t\tvalue = +value;\n\t\tif (!isNaN(value)) {\n\t\t\telement.attr(attr, value);\n\t\t}\n\t\treturn element;\n\t}\n\n\tfunction update_progressbar_position() {\n\t\tself.$bar_progress.attr('x', self.$bar.getX());\n\t\tself.$bar_progress.attr('width', self.$bar.getWidth() * (self.task.progress / 100));\n\t}\n\n\tfunction update_label_position() {\n\t\tconst bar = self.$bar,\n\t\t\tlabel = self.group.select('.bar-label');\n\t\tif (label.getBBox().width > bar.getWidth()) {\n\t\t\tlabel.addClass('big').attr('x', bar.getX() + bar.getWidth() + 5);\n\t\t} else {\n\t\t\tlabel.removeClass('big').attr('x', bar.getX() + bar.getWidth() / 2);\n\t\t}\n\t}\n\n\tfunction update_handle_position() {\n\t\tconst bar = self.$bar;\n\t\tself.handle_group.select('.handle.left').attr({\n\t\t\t'x': bar.getX() + 1\n\t\t});\n\t\tself.handle_group.select('.handle.right').attr({\n\t\t\t'x': bar.getEndX() - 9\n\t\t});\n\t\tconst handle = self.group.select('.handle.progress');\n\t\thandle && handle.attr('points', get_progress_polygon_points());\n\t}\n\n\tfunction update_arrow_position() {\n\t\tfor (let arrow of self.arrows) {\n\t\t\tarrow.update();\n\t\t}\n\t}\n\n\tfunction update_details_position() {\n\t\tconst {x, y} = get_details_position();\n\t\tself.details_box && self.details_box.transform(`t${x},${y}`);\n\t}\n\n\tfunction isFunction(functionToCheck) {\n\t\tvar getType = {};\n\t\treturn functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n\t}\n\n\tinit();\n\n\treturn self;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Bar.js\n **/","/* global Snap */\n/*\n\tClass: Arrow\n\tfrom_task ---> to_task\n\n\tOpts:\n\t\tgantt (Gantt object)\n\t\tfrom_task (Bar object)\n\t\tto_task (Bar object)\n*/\n\nexport default function Arrow(gt, from_task, to_task) {\n\n\tconst self = {};\n\n\tfunction init() {\n\t\tself.from_task = from_task;\n\t\tself.to_task = to_task;\n\t\tprepare();\n\t\tdraw();\n\t}\n\n\tfunction prepare() {\n\n\t\tself.start_x = from_task.$bar.getX() + from_task.$bar.getWidth() / 2;\n\n\t\tconst condition = () =>\n\t\t\tto_task.$bar.getX() < self.start_x + gt.config.padding &&\n\t\t\t\tself.start_x > from_task.$bar.getX() + gt.config.padding;\n\n\t\twhile(condition()) {\n\t\t\tself.start_x -= 10;\n\t\t}\n\n\t\tself.start_y = gt.config.header_height + gt.config.bar.height +\n\t\t\t(gt.config.padding + gt.config.bar.height) * from_task.task._line +\n\t\t\tgt.config.padding;\n\n\t\tself.end_x = to_task.$bar.getX() - gt.config.padding / 2;\n\t\tself.end_y = gt.config.header_height + gt.config.bar.height / 2 +\n\t\t\t(gt.config.padding + gt.config.bar.height) * to_task.task._line +\n\t\t\tgt.config.padding;\n\n\t\tconst from_is_below_to = (from_task.task._line > to_task.task._line);\n\t\tself.curve = gt.config.arrow.curve;\n\t\tself.clockwise = from_is_below_to ? 1 : 0;\n\t\tself.curve_y = from_is_below_to ? -self.curve : self.curve;\n\t\tself.offset = from_is_below_to ?\n\t\t\tself.end_y + gt.config.arrow.curve :\n\t\t\tself.end_y - gt.config.arrow.curve;\n\n\t\tself.path =\n\t\t\tSnap.format('M {start_x} {start_y} V {offset} ' +\n\t\t\t\t'a {curve} {curve} 0 0 {clockwise} {curve} {curve_y} ' +\n\t\t\t\t'L {end_x} {end_y} m -5 -5 l 5 5 l -5 5',\n\t\t\t\t{\n\t\t\t\t\tstart_x: self.start_x,\n\t\t\t\t\tstart_y: self.start_y,\n\t\t\t\t\tend_x: self.end_x,\n\t\t\t\t\tend_y: self.end_y,\n\t\t\t\t\toffset: self.offset,\n\t\t\t\t\tcurve: self.curve,\n\t\t\t\t\tclockwise: self.clockwise,\n\t\t\t\t\tcurve_y: self.curve_y\n\t\t\t\t});\n\n\t\tif(to_task.$bar.getX() < from_task.$bar.getX() + gt.config.padding) {\n\t\t\tself.path =\n\t\t\t\tSnap.format('M {start_x} {start_y} v {down_1} ' +\n\t\t\t\t'a {curve} {curve} 0 0 1 -{curve} {curve} H {left} ' +\n\t\t\t\t'a {curve} {curve} 0 0 {clockwise} -{curve} {curve_y} V {down_2} ' +\n\t\t\t\t'a {curve} {curve} 0 0 {clockwise} {curve} {curve_y} ' +\n\t\t\t\t'L {end_x} {end_y} m -5 -5 l 5 5 l -5 5',\n\t\t\t\t\t{\n\t\t\t\t\t\tstart_x: self.start_x,\n\t\t\t\t\t\tstart_y: self.start_y,\n\t\t\t\t\t\tend_x: self.end_x,\n\t\t\t\t\t\tend_y: self.end_y,\n\t\t\t\t\t\tdown_1: gt.config.padding / 2 - self.curve,\n\t\t\t\t\t\tdown_2: to_task.$bar.getY() + to_task.$bar.getHeight() / 2 - self.curve_y,\n\t\t\t\t\t\tleft: to_task.$bar.getX() - gt.config.padding,\n\t\t\t\t\t\toffset: self.offset,\n\t\t\t\t\t\tcurve: self.curve,\n\t\t\t\t\t\tclockwise: self.clockwise,\n\t\t\t\t\t\tcurve_y: self.curve_y\n\t\t\t\t\t});\n\t\t}\n\t}\n\n\tfunction draw() {\n\t\tself.element = gt.canvas.path(self.path)\n\t\t\t.attr('data-from', self.from_task.task.id)\n\t\t\t.attr('data-to', self.to_task.task.id);\n\t}\n\n\tfunction update() { // eslint-disable-line\n\t\tprepare();\n\t\tself.element.attr('d', self.path);\n\t}\n\tself.update = update;\n\n\tinit();\n\n\treturn self;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Arrow.js\n **/"],"sourceRoot":""}