{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 49e672e4a4e91ce14135","webpack:///./src/Gantt.js","webpack:///./src/gantt.scss?b27d","webpack:///./src/gantt.scss","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./src/Bar.js","webpack:///./src/Arrow.js"],"names":["Gantt","element","projects","config","self","init","set_defaults","change_view_mode","unselect_all","view_is","get_bar","trigger_event","refresh","view_mode","defaults","header_height","column_width","step","view_modes","bar","height","arrow","curve","padding","date_format","custom_popup_html","left_width","inline","Object","assign","reset_variables","_tasks","forEach","concat","project","tasks","_projects","_rows","length","_bars","_arrows","element_groups","updated_tasks","mode","prepare","set_scale","render","prepare_tasks","prepare_projects","prepare_dependencies","prepare_dates","prepare_canvas","map","task","i","_start","moment","start","_end","end","_index","startOf","add","clone","invalid","dependencies","deps","split","d","trim","filter","id","generate_id","previousTask","newProject","projectId","_line","rows","nextTask","_firstRow","_lastRow","_lastDate","get_max_date","currentTask","_currentDate","get_date_progress","_late","diff","name","custom_class","responsaveis","uors","periodos","dataInicio","dataFim","tipo","nome","push","dependency_map","t","gantt_start","gantt_end","set_gantt_dates","setup_dates","canvas","Snap","addClass","clear","setup_groups","make_grid","make_dates","make_bars","make_arrows","make_projects","map_arrows_on_bars","set_width","set_scroll_position","bind_grid_click","subtract","endOf","dates","cur_date","groups","group","attr","scale","screen_width","min_width","cur_width","node","getBoundingClientRect","width","actual_width","parseFloat","select","parent_element","document","querySelector","parentElement","scroll_pos","get_min_date","scrollLeft","reduce","acc","curr","isSameOrBefore","isSameOrAfter","make_grid_background","make_grid_header","make_grid_rows","make_grid_ticks","make_grid_highlights","grid_width","grid_height","rect","appendTo","grid","header_width","lines","row_width","row_height","row_y","index","line","text","current","late","x","path","format","y","tick_x","tick_height","date","tick_y","tick_class","day","month","daysInMonth","getBBox","get_dates_to_draw","lower_x","upper_x","lower_y","lower_text","upper_text","$upper_text","upper_y","x2","remove","last_date","get_date_info","min_width_month","date_text","year","base_pos","x_pos","duration","progress","arrows","dependency","get_task","dep","arr","from_task","to_task","click","details","selectAll","el","removeClass","modes","Array","isArray","find","Math","random","toString","slice","event","args","apply","Bar","gt","draw","bind","action_completed","prepare_values","prepare_plugins","compute_x","compute_y","corner_radius","durationDays","progress_width","bar_group","handle_group","plugin","Element","Paper","global","Fragment","prototype","getX","getY","getWidth","getHeight","getEndX","draw_bar","draw_progress_bar","draw_label","draw_resize_handles","$bar","$bar_progress","update_label_position","handle_width","polygon","get_progress_polygon_points","bar_progress","setup_click_event","show_details","bind_resize","bind_drag","bind_resize_progress","popover_group","details_box","render_details","f","shadow","e","get_details_position","transform","html","get_details_html","foreign_object","parse","append","isFunction","heading","line_1","line_2","periodo","responsavel","chave","ramal","telefone","celular","link","uor","nomeReduzido","uor_id","get_handles","left","right","drag","onmove_left","onstart","onstop_left","onmove_right","onstop_right","dx","dy","onmove_handle_right","onstop_handle_right","onmove_handle_left","onstop_handle_left","onmove","onstop","handle","on_move","on_start","on_stop","max_dx","min_dx","owidth","finaldx","progress_changed","set_action_completed","ox","oy","run_method_for_dependencies","get_snap_position","update_bar_position","date_changed","fn","dm","deptask","dt","xs","valid_x","prev","update_attr","update_handle_position","update_progressbar_position","update_arrow_position","update_details_position","hasClass","toggleClass","compute_start_end_date","new_start_date","new_end_date","new_progress","compute_progress","setTimeout","x_in_units","width_in_units","parseInt","odx","rem","position","value","isNaN","label","update","functionToCheck","getType","call","Arrow","start_x","condition","start_y","end_x","end_y","from_is_below_to","clockwise","curve_y","offset","down_1","down_2"],"mappings":"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AAoB,0BAA0B,0BAA0B,kBAAkB,WAAW,YAAY,8BAA8B,KAAK,SAAS,mBAAmB;;AAEvkQ;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AA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","file":"frappe-gantt.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Gantt\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Gantt\"] = factory();\n\telse\n\t\troot[\"Gantt\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 49e672e4a4e91ce14135\n **/","\n/* global moment, Snap */\n/**\n * Gantt:\n * \telement: querySelector string, required\n * \ttasks: array of tasks, required\n *   task: { id, name, start, end, progress, dependencies, custom_class }\n * \tconfig: configuration options, optional\n */\nimport './gantt.scss';\n\nimport Bar from './Bar';\nimport Arrow from './Arrow';\n\nexport default function Gantt(element, projects, config) {\n\n\tconst self = {};\n\n\tfunction init() {\n\t\tset_defaults();\n\n\t\t// expose methods\n\t\tself.change_view_mode = change_view_mode;\n\t\tself.unselect_all = unselect_all;\n\t\tself.view_is = view_is;\n\t\tself.get_bar = get_bar;\n\t\tself.trigger_event = trigger_event;\n\t\tself.refresh = refresh;\n\n\t\t// initialize with default view mode\n\t\tchange_view_mode(self.config.view_mode);\n\t}\n\n\tfunction set_defaults() {\n\n\t\tconst defaults = {\n\t\t\theader_height: 50,\n\t\t\tcolumn_width: 30,\n\t\t\tstep: 24,\n\t\t\tview_modes: [\n\t\t\t\t'Quarter Day',\n\t\t\t\t'Half Day',\n\t\t\t\t'Day',\n\t\t\t\t'Week',\n\t\t\t\t'Month'\n\t\t\t],\n\t\t\tbar: {\n\t\t\t\theight: 20\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\tcurve: 5\n\t\t\t},\n\t\t\tpadding: 18,\n\t\t\tview_mode: 'Day',\n\t\t\tdate_format: 'YYYY-MM-DD',\n\t\t\tcustom_popup_html: null,\n\t\t\tleft_width: 0,\n\t\t\tinline: true\n\t\t};\n\t\tself.config = Object.assign({}, defaults, config);\n\n\t\treset_variables();\n\t}\n\n\tfunction reset_variables() {\n\t\tself.element = element;\n\t\tself._tasks = [];\n\t\tprojects.forEach(project =>\n\t\t\tself._tasks = self._tasks.concat(project.tasks));\n\t\tself._projects = projects;\n\t\tself._projects._rows = self._tasks.length;\n\t\tself._bars = [];\n\t\tself._arrows = [];\n\t\tself.element_groups = {};\n\t}\n\n\tfunction refresh(updated_tasks) {\n\t\treset_variables(updated_tasks);\n\t\tchange_view_mode(self.config.view_mode);\n\t}\n\n\tfunction change_view_mode(mode) {\n\t\tprepare();\n\t\tset_scale(mode);\n\t\trender();\n\t\t// fire viewmode_change event\n\t\ttrigger_event('view_change', [mode]);\n\t}\n\n\tfunction prepare() {\n\t\tprepare_tasks();\n\t\tprepare_projects();\n\t\tprepare_dependencies();\n\t\tprepare_dates();\n\t\tprepare_canvas();\n\t}\n\n\tfunction prepare_tasks() {\n\n\t\t// prepare tasks\n\t\tself.tasks = self._tasks.map((task, i) => {\n\n\t\t\t// momentify\n\t\t\ttask._start = moment(task.start, self.config.date_format);\n\t\t\ttask._end = moment(task.end, self.config.date_format);\n\n\t\t\t// cache index\n\t\t\ttask._index = i;\n\n\t\t\t// invalid dates\n\t\t\tif(!task.start && !task.end) {\n\t\t\t\ttask._start = moment().startOf('day');\n\t\t\t\ttask._end = moment().startOf('day').add(2, 'days');\n\t\t\t}\n\t\t\tif(!task.start && task.end) {\n\t\t\t\ttask._start = task._end.clone().add(-2, 'days');\n\t\t\t}\n\t\t\tif(task.start && !task.end) {\n\t\t\t\ttask._end = task._start.clone().add(2, 'days');\n\t\t\t}\n\n\t\t\t// invalid flag\n\t\t\tif(!task.start || !task.end) {\n\t\t\t\ttask.invalid = true;\n\t\t\t}\n\n\t\t\t// dependencies\n\t\t\tif(typeof task.dependencies === 'string' || !task.dependencies) {\n\t\t\t\tlet deps = [];\n\t\t\t\tif(task.dependencies) {\n\t\t\t\t\tdeps = task.dependencies\n\t\t\t\t\t\t.split(',')\n\t\t\t\t\t\t.map(d => d.trim())\n\t\t\t\t\t\t.filter((d) => d);\n\t\t\t\t}\n\t\t\t\ttask.dependencies = deps;\n\t\t\t}\n\n\t\t\t// uids\n\t\t\tif(!task.id) {\n\t\t\t\ttask.id = generate_id(task);\n\t\t\t}\n\n\t\t\t// inline\n\t\t\tif(self.config.inline) {\n\t\t\t\tconst previousTask = self._tasks[i - 1];\n\t\t\t\tconst newProject = (previousTask && task.projectId !== previousTask.projectId);\n\n\t\t\t\tif (!previousTask) {\n\t\t\t\t\ttask._line = 0;\n\t\t\t\t}else if(previousTask._end < task._start && !newProject) {\n\t\t\t\t\ttask._line = previousTask._line;\n\t\t\t\t}else {\n\t\t\t\t\ttask._line = previousTask._line + 1;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\t\ttask._line = task._index;\n\t\t\t}\n\n\t\t\treturn task;\n\t\t});\n\t}\n\n\tfunction prepare_projects() {\n\n\t\tlet rows = 0;\n\n\t\tself._projects.forEach((project, i) => {\n\n\t\t\tconst tasks = project.tasks;\n\n\t\t\ttasks.forEach((task, i) => {\n\t\t\t\tconst nextTask = tasks[i + 1];\n\t\t\t\tif(i === 0) project._firstRow = task._line;\n\t\t\t\tif(!nextTask) {\n\t\t\t\t\tproject._lastRow = task._line;\n\t\t\t\t\tproject._lastDate = get_max_date(project.tasks);\n\t\t\t\t}\n\t\t\t\tif(task.currentTask) project._currentDate = get_date_progress(task);\n\t\t\t});\n\n\t\t\tproject._late = moment().diff(project._currentDate, 'days');\n\n\t\t\tif(project._late > 0) {\n\n\t\t\t\tconst start = moment(project._lastDate, self.config.date_format).clone().add(1, 'days');\n\t\t\t\tconst end = moment(project._lastDate, self.config.date_format).clone().add(project._late, 'days');\n\n\t\t\t\tconst task = {\n\t\t\t\t\tid: self.tasks.length + 1,\n\t\t\t\t\tname: 'Projeo de Trmino',\n\t\t\t\t\tprojectId: project.id,\n\t\t\t\t\t_start: start,\n\t\t\t\t\t_end: end,\n\t\t\t\t\t_line: project._lastRow,\n\t\t\t\t\tcustom_class: 'late',\n\t\t\t\t\tdependencies: [],\n\t\t\t\t\tresponsaveis: [],\n\t\t\t\t\tuors: [],\n\t\t\t\t\tperiodos: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdataInicio: start,\n\t\t\t\t\t\t\tdataFim: end,\n\n\t\t\t\t\t\t\ttipo: {\n\t\t\t\t\t\t\t\tnome: 'Previso'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tself.tasks.push(task);\n\t\t\t}\n\n\t\t\tproject._rows = project._lastRow - project._firstRow + 1;\n\t\t\trows += project._rows;\n\t\t});\n\t\tself._projects._rows = rows;\n\t}\n\n\tfunction prepare_dependencies() {\n\n\t\tself.dependency_map = {};\n\t\tfor(let t of self.tasks) {\n\t\t\tfor(let d of t.dependencies) {\n\t\t\t\tself.dependency_map[d] = self.dependency_map[d] || [];\n\t\t\t\tself.dependency_map[d].push(t.id);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction prepare_dates() {\n\n\t\tself.gantt_start = self.gantt_end = null;\n\t\tfor(let task of self.tasks) {\n\t\t\t// set global start and end date\n\t\t\tif(!self.gantt_start || task._start < self.gantt_start) {\n\t\t\t\tself.gantt_start = task._start;\n\t\t\t}\n\t\t\tif(!self.gantt_end || task._end > self.gantt_end) {\n\t\t\t\tself.gantt_end = task._end;\n\t\t\t}\n\t\t}\n\t\tset_gantt_dates();\n\t\tsetup_dates();\n\t}\n\n\tfunction prepare_canvas() {\n\t\tif(self.canvas) return;\n\t\tself.canvas = Snap(self.element).addClass('gantt');\n\t}\n\n\tfunction render() {\n\t\tclear();\n\t\tsetup_groups();\n\t\tmake_grid();\n\t\tmake_dates();\n\t\tmake_bars();\n\t\tmake_arrows();\n\t\tmake_projects();\n\t\tmap_arrows_on_bars();\n\t\tset_width();\n\t\tset_scroll_position();\n\t\tbind_grid_click();\n\t}\n\n\tfunction clear() {\n\t\tself.canvas.clear();\n\t\tself._bars = [];\n\t\tself._arrows = [];\n\t}\n\n\tfunction set_gantt_dates() {\n\n\t\tif(view_is(['Quarter Day', 'Half Day'])) {\n\t\t\tself.gantt_start = self.gantt_start.clone().subtract(7, 'day');\n\t\t\tself.gantt_end = self.gantt_end.clone().add(7, 'day');\n\t\t} else if(view_is('Month')) {\n\t\t\tself.gantt_start = self.gantt_start.clone().startOf('month').subtract(1, 'Month');\n\t\t\t// self.gantt_end = self.gantt_end.clone().endOf('month').add(1, 'year');\n\t\t\tself.gantt_end = self.gantt_end.clone().endOf('month');\n\t\t} else {\n\t\t\tself.gantt_start = self.gantt_start.clone().subtract(3, 'days');// .startOf('month');\n\t\t\tself.gantt_end = self.gantt_end.clone().add(3, 'days'); // .endOf('month');\n\t\t}\n\t}\n\n\tfunction setup_dates() {\n\n\t\tself.dates = [];\n\t\tlet cur_date = null;\n\n\t\twhile(cur_date === null || cur_date < self.gantt_end) {\n\t\t\tif(!cur_date) {\n\t\t\t\tcur_date = self.gantt_start.clone();\n\t\t\t} else {\n\t\t\t\tcur_date = view_is('Month') ?\n\t\t\t\t\tcur_date.clone().add(1, 'month') :\n\t\t\t\t\tcur_date.clone().add(self.config.step, 'hours');\n\t\t\t}\n\t\t\tself.dates.push(cur_date);\n\t\t}\n\t}\n\n\tfunction setup_groups() {\n\n\t\tconst groups = ['grid', 'project', 'date', 'arrow', 'progress', 'bar', 'details'];\n\t\t// make group layers\n\t\tfor(let group of groups) {\n\t\t\tself.element_groups[group] = self.canvas.group().attr({'id': group});\n\t\t}\n\t}\n\n\tfunction set_scale(scale) {\n\t\tself.config.view_mode = scale;\n\t\tconst screen_width = 1832 - self.config.left_width;\n\t\tlet min_width = 0;\n\t\tself.config.column_width = screen_width / self.dates.length;\n\n\t\tif(scale === 'Day') {\n\t\t\tmin_width = 18;\n\t\t\tself.config.step = 24;\n\t\t} else if(scale === 'Half Day') {\n\t\t\tmin_width = 38;\n\t\t\tself.config.step = 24 / 2;\n\t\t} else if(scale === 'Quarter Day') {\n\t\t\tmin_width = 38;\n\t\t\tself.config.step = 24 / 4;\n\t\t} else if(scale === 'Week') {\n\t\t\tmin_width = 140;\n\t\t\tself.config.step = 24 * 7;\n\t\t} else if(scale === 'Month') {\n\t\t\tmin_width = 20;\n\t\t\tself.config.step = 24 * 30;\n\t\t}\n\t\tself.config.column_width = self.config.column_width < min_width ? min_width : self.config.column_width;\n\t}\n\n\tfunction set_width() {\n\t\tconst cur_width = self.canvas.node.getBoundingClientRect().width;\n\t\tconst actual_width = parseFloat(self.canvas.select('#grid .grid-row')\n\t\t\t\t\t\t\t.attr('width')) + self.config.left_width;\n\n\t\tif(cur_width < actual_width) {\n\t\t\tself.canvas.attr('width', actual_width);\n\t\t}\n\t}\n\n\tfunction set_scroll_position() {\n\t\tconst parent_element = document.querySelector(self.element).parentElement;\n\t\tif(!parent_element) return;\n\n\t\tconst scroll_pos = get_min_date().diff(self.gantt_start, 'hours') /\n\t\t\tself.config.step * self.config.column_width - self.config.column_width;\n\t\tparent_element.scrollLeft = scroll_pos;\n\t}\n\n\tfunction get_min_date() {\n\t\tconst task = self.tasks.reduce((acc, curr) => {\n\t\t\treturn curr._start.isSameOrBefore(acc._start) ? curr : acc;\n\t\t});\n\t\treturn task._start;\n\t}\n\n\tfunction get_max_date(tasks) {\n\t\tconst task = tasks.reduce((acc, curr) => {\n\t\t\treturn curr._end.isSameOrAfter(acc._end) ? curr : acc;\n\t\t});\n\t\treturn task.end;\n\t}\n\n\tfunction make_grid() {\n\t\tmake_grid_background();\n\t\tmake_grid_header();\n\t\tmake_grid_rows();\n\t\tmake_grid_ticks();\n\t\tmake_grid_highlights();\n\t}\n\n\tfunction make_grid_background() {\n\n\t\tconst grid_width = (self.dates.length * self.config.column_width) + self.config.left_width,\n\t\t\tgrid_height = self.config.header_height + self.config.padding +\n\t\t\t\t(self.config.bar.height + self.config.padding) * self._projects._rows + 400;\n\n\t\tself.canvas.rect(0, 0, grid_width, grid_height)\n\t\t\t.addClass('grid-background')\n\t\t\t.appendTo(self.element_groups.grid);\n\n\t\tself.canvas.attr({\n\t\t\theight: grid_height + self.config.padding,\n\t\t\twidth: '110%'\n\t\t});\n\t}\n\n\tfunction make_grid_header() {\n\t\tconst header_width = self.dates.length * self.config.column_width,\n\t\t\theader_height = self.config.header_height + 10;\n\t\tself.canvas.rect(self.config.left_width, 0, header_width, header_height)\n\t\t\t.addClass('grid-header')\n\t\t\t.appendTo(self.element_groups.grid);\n\t}\n\n\tfunction make_grid_rows() {\n\n\t\tconst rows = self.canvas.group().appendTo(self.element_groups.grid),\n\t\t\tlines = self.canvas.group().appendTo(self.element_groups.grid),\n\t\t\trow_width = self.dates.length * self.config.column_width,\n\t\t\trow_height = self.config.bar.height + self.config.padding,\n\t\t\tleft_width = self.config.left_width;\n\n\t\tlet row_y = self.config.header_height + self.config.padding / 2;\n\n\t\tself.tasks.forEach((task, index) => { // eslint-disable-line\n\n\t\t\tconst nextTask = self.tasks[index + 1];\n\n\t\t\tif(nextTask && task._line !== nextTask._line) {\n\n\t\t\t\tself.canvas.rect(left_width, row_y, row_width, row_height)\n\t\t\t\t.addClass('grid-row')\n\t\t\t\t.appendTo(rows);\n\n\t\t\t\tself.canvas.line(left_width, row_y + row_height, row_width + left_width, row_y + row_height)\n\t\t\t\t.addClass('row-line')\n\t\t\t\t.appendTo(lines);\n\n\t\t\t\trow_y += self.config.bar.height + self.config.padding;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction make_projects() {\n\n\t\tconst rows = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\tlines = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\ttext = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\tcurrent = self.canvas.group().appendTo(self.element_groups.project),\n\t\t\trow_width = self.dates.length * self.config.column_width,\n\t\t\trow_height = self.config.bar.height + self.config.padding,\n\t\t\tleft_width = self.config.left_width;\n\n\t\tconst header_height = self.config.header_height + self.config.padding / 2;\n\t\tlet row_y = header_height;\n\n\t\tself._projects.forEach((project) => { // eslint-disable-line\n\n\t\t\tconst height = row_height * project._rows,\n\t\t\t\tlate = project._late > 0 ? '-late' : '';\n\t\t\trow_y = header_height + (row_height * project._firstRow);\n\n\t\t\tif(self.config.left_width > 0)\t{\n\t\t\t\tself.canvas.rect(0, row_y, left_width, height)\n\t\t\t\t\t.addClass('grid-project-row')\n\t\t\t\t\t.appendTo(rows);\n\n\t\t\t\tself.canvas.line(0, row_y + height, row_width + left_width, row_y + height)\n\t\t\t\t\t.addClass('row-line-project')\n\t\t\t\t\t.appendTo(lines);\n\n\t\t\t\tself.canvas.text(self.config.left_width / 2, row_y + (height / 2), project.name)\n\t\t\t\t\t.addClass('project-text')\n\t\t\t\t\t.appendTo(text);\n\t\t\t}\n\n\t\t\tif(view_is('Month') && project._currentDate) {\n\t\t\t\tconst x = (project._currentDate.startOf('day').diff(self.gantt_start, 'days') *\n\t\t\t\t\t\t\tself.config.column_width / 30) + self.config.left_width;\n\n\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: row_y,\n\t\t\t\t\theight: height\n\t\t\t\t}))\n\t\t\t\t.addClass('tick-current' + late)\n\t\t\t\t.appendTo(current);\n\t\t\t} else if(view_is('Day') && project._currentDate) {\n\t\t\t\tconst x = (project._currentDate.clone().startOf('day').diff(self.gantt_start, 'hours') /\n\t\t\t\t\t\tself.config.step * self.config.column_width) + self.config.left_width;\n\t\t\t\tconst width = self.config.column_width;\n\n\t\t\t\tself.canvas.rect(x, row_y, width, height)\n\t\t\t\t.addClass('current-highlight' + late)\n\t\t\t\t.appendTo(current);\n\t\t\t}\n\n\t\t});\n\t}\n\n\tfunction make_grid_ticks() {\n\t\tlet tick_x = self.config.left_width,\n\t\t\ttick_height = (self.config.bar.height + self.config.padding) * self._projects._rows;\n\n\t\tfor(let date of self.dates) {\n\n\t\t\tlet tick_y = self.config.header_height + self.config.padding / 2;\n\n\t\t\tlet tick_class = 'tick';\n\t\t\t// thick tick for monday\n\t\t\tif(view_is('Day') && date.day() === 1) {\n\t\t\t\ttick_class += ' thick';\n\t\t\t}\n\t\t\t// thick tick for first week\n\t\t\tif(view_is('Week') && date.date() >= 1 && date.date() < 8) {\n\t\t\t\ttick_class += ' thick';\n\t\t\t}\n\t\t\t// thick ticks for quarters\n\t\t\tif(view_is('Month') && date.month() === 0) {\n\t\t\t\ttick_class += ' thick';\n\t\t\t\ttick_y = tick_y / 2;\n\t\t\t}\n\n\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\tx: tick_x,\n\t\t\t\ty: tick_y,\n\t\t\t\theight: tick_height\n\t\t\t}))\n\t\t\t.addClass(tick_class)\n\t\t\t.appendTo(self.element_groups.grid);\n\n\t\t\tif(view_is('Month')) {\n\t\t\t\ttick_x += date.daysInMonth() * self.config.column_width / 30;\n\t\t\t} else {\n\t\t\t\ttick_x += self.config.column_width;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction make_grid_highlights() {\n\t\t// highlight today's date\n\n\t\tconst y = 0;\n\t\tconst header_height = self.config.header_height + self.config.padding / 2;\n\t\tconst height = (self.config.bar.height + self.config.padding) * self._projects._rows +\n\t\t\t\theader_height;\n\n\t\tif(view_is('Day')) {\n\t\t\tconst x = (moment().startOf('day').diff(self.gantt_start, 'hours') /\n\t\t\t\t\t\tself.config.step * self.config.column_width) + self.config.left_width;\n\t\t\tconst width = self.config.column_width;\n\n\t\t\tif (x <= self.element_groups.grid.getBBox().width && x >= self.config.left_width) {\n\t\t\t\tself.canvas.rect(x, y, width, height)\n\t\t\t\t\t.addClass('today-highlight')\n\t\t\t\t\t.appendTo(self.element_groups.grid);\n\t\t\t}\n\n\t\t}else {\n\n\t\t\tconst x = (moment().startOf('day').diff(self.gantt_start, 'days') *\n\t\t\t\t\tself.config.column_width / 30) + self.config.left_width;\n\n\t\t\tif (x <= self.element_groups.grid.getBBox().width && x >= self.config.left_width) {\n\t\t\t\tself.canvas.path(Snap.format('M {x} {y} v {height}', {\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: header_height,\n\t\t\t\t\theight: height - header_height\n\t\t\t\t}))\n\t\t\t\t.addClass('tick-today')\n\t\t\t\t.appendTo(self.element_groups.grid);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction make_dates() {\n\t\tfor(let date of get_dates_to_draw()) {\n\n\t\t\tlet grid_width = self.element_groups.grid.getBBox().width;\n\t\t\tdate.lower_x += self.config.left_width;\n\t\t\tdate.upper_x += self.config.left_width;\n\n\t\t\tself.canvas.text(date.lower_x, date.lower_y, date.lower_text)\n\t\t\t\t.addClass('lower-text')\n\t\t\t\t.appendTo(self.element_groups.date);\n\n\t\t\tif(date.upper_text) {\n\n\t\t\t\tconst $upper_text = self.canvas.text(date.upper_x, date.upper_y, date.upper_text)\n\t\t\t\t\t.addClass('upper-text')\n\t\t\t\t\t.appendTo(self.element_groups.date);\n\n\t\t\t\tdate.lower_x += ((grid_width) - (date.lower_x)) / 2;\n\n\t\t\t\tif($upper_text.getBBox().x2 > grid_width) {\n\t\t\t\t\tself.canvas.text(date.lower_x, date.upper_y, date.upper_text)\n\t\t\t\t\t.addClass('upper-text')\n\t\t\t\t\t.appendTo(self.element_groups.date);\n\n\t\t\t\t\t$upper_text.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction get_dates_to_draw() {\n\t\tlet lower_x = 0,\n\t\t\tlast_date = null;\n\n\t\tconst dates = self.dates.map((date, i) => {\n\n\t\t\tconst d = get_date_info(date, last_date, i);\n\t\t\tlast_date = date;\n\t\t\td.lower_x = lower_x + self.config.column_width / 2;\n\t\t\tlower_x += date.daysInMonth() * self.config.column_width / 30;\n\t\t\treturn d;\n\t\t});\n\t\treturn dates;\n\t}\n\n\tfunction get_date_info(date, last_date, i) {\n\t\tif(!last_date) {\n\t\t\tlast_date = date.clone().add(1, 'year').add(1, 'month').add(1, 'day');\n\t\t}\n\t\tconst min_width_month = 60;\n\n\t\tconst date_text = {\n\t\t\t'Quarter Day_lower': date.format('HH'),\n\t\t\t'Half Day_lower': date.format('HH'),\n\t\t\t'Day_lower': date.date() !== last_date.date() ? date.format('D') : '',\n\t\t\t'Week_lower': date.month() !== last_date.month() ?\n\t\t\t\tdate.format('D MMM') : date.format('D'),\n\t\t\t'Month_lower': date.format(self.config.column_width < min_width_month ? 'MM' : 'MMMM'),\n\t\t\t'Quarter Day_upper': date.date() !== last_date.date() ? date.format('D MMM') : '',\n\t\t\t'Half Day_upper': date.date() !== last_date.date() ?\n\t\t\t\tdate.month() !== last_date.month() ?\n\t\t\t\tdate.format('D MMM') : date.format('D') : '',\n\t\t\t'Day_upper': date.month() !== last_date.month() ? date.format('MMMM') : '',\n\t\t\t'Week_upper': date.month() !== last_date.month() ? date.format('MMMM') : '',\n\t\t\t'Month_upper': date.year() !== last_date.year() ? date.format('YYYY') : ''\n\t\t};\n\n\t\tconst base_pos = {\n\t\t\tx: i * self.config.column_width,\n\t\t\tlower_y: self.config.header_height,\n\t\t\tupper_y: self.config.header_height - 25\n\t\t};\n\n\t\tconst x_pos = {\n\t\t\t'Quarter Day_lower': (self.config.column_width * 4) / 2,\n\t\t\t'Quarter Day_upper': 0,\n\t\t\t'Half Day_lower': (self.config.column_width * 2) / 2,\n\t\t\t'Half Day_upper': 0,\n\t\t\t'Day_lower': self.config.column_width / 2,\n\t\t\t'Day_upper': (self.config.column_width * 30) / 2,\n\t\t\t'Week_lower': 0,\n\t\t\t'Week_upper': (self.config.column_width * 4) / 2,\n\t\t\t// 'Month_lower': self.config.column_width / 2,\n\t\t\t'Month_upper': (self.config.column_width * (12 - date.month())) / 2\n\n\t\t};\n\n\t\treturn {\n\t\t\tupper_text: date_text[`${self.config.view_mode}_upper`],\n\t\t\tlower_text: date_text[`${self.config.view_mode}_lower`],\n\t\t\tupper_x: base_pos.x + x_pos[`${self.config.view_mode}_upper`],\n\t\t\tupper_y: base_pos.upper_y,\n\t\t\t// lower_x: base_pos.x + x_pos[`${self.config.view_mode}_lower`],\n\t\t\tlower_y: base_pos.lower_y\n\t\t};\n\t}\n\n\tfunction get_date_progress(task) {\n\t\tconst duration = (task._end.diff(task._start, 'hours') + 24) / self.config.step;\n\t\treturn task._start.clone().add((duration * task.progress) / 100, 'days');\n\t}\n\n\tfunction make_arrows() {\n\t\tself._arrows = [];\n\t\tfor(let task of self.tasks) {\n\t\t\tlet arrows = [];\n\t\t\tarrows = task.dependencies.map(dep => {\n\t\t\t\tconst dependency = get_task(dep);\n\t\t\t\tif(!dependency) return;\n\t\t\t\tconst arrow = Arrow(\n\t\t\t\t\tself, // gt\n\t\t\t\t\tself._bars[dependency._index], // from_task\n\t\t\t\t\tself._bars[task._index] // to_task\n\t\t\t\t);\n\t\t\t\tself.element_groups.arrow.add(arrow.element);\n\t\t\t\treturn arrow; // eslint-disable-line\n\t\t\t}).filter(arr => arr); // filter falsy values\n\t\t\tself._arrows = self._arrows.concat(arrows);\n\t\t}\n\t}\n\n\tfunction make_bars() {\n\t\tself._bars = self.tasks.map((task, i) => {\n\n\t\t\tconst bar = Bar(self, task);\n\t\t\tself.element_groups.bar.add(bar.group);\n\t\t\treturn bar;\n\t\t});\n\t}\n\n\tfunction map_arrows_on_bars() {\n\t\tfor(let bar of self._bars) {\n\t\t\tbar.arrows = self._arrows.filter(arrow => {\n\t\t\t\treturn (arrow.from_task.task.id === bar.task.id) ||\n\t\t\t\t\t(arrow.to_task.task.id === bar.task.id);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction bind_grid_click() {\n\t\tself.element_groups.grid.click(() => {\n\t\t\tunselect_all();\n\t\t\tself.element_groups.details\n\t\t\t\t.selectAll('.details-wrapper')\n\t\t\t\t.forEach(el => el.addClass('hide'));\n\t\t});\n\t}\n\n\tfunction unselect_all() {\n\t\tself.canvas.selectAll('.bar-wrapper').forEach(el => {\n\t\t\tel.removeClass('active');\n\t\t});\n\t}\n\n\tfunction view_is(modes) {\n\t\tif (typeof modes === 'string') {\n\t\t\treturn self.config.view_mode === modes;\n\t\t} else if(Array.isArray(modes)) {\n\t\t\tfor (let mode of modes) {\n\t\t\t\tif(self.config.view_mode === mode) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction get_task(id) {\n\t\treturn self.tasks.find((task) => {\n\t\t\treturn task.id === id;\n\t\t});\n\t}\n\n\tfunction get_bar(id) {\n\t\treturn self._bars.find((bar) => {\n\t\t\treturn bar.task.id === id;\n\t\t});\n\t}\n\n\t// function get_project(id) {\n\t// \treturn self._projects.find(project => project.id === id);\n\t// }\n\n\tfunction generate_id(task) {\n\t\treturn task.name + '_' + Math.random().toString(36).slice(2, 12);\n\t}\n\n\tfunction trigger_event(event, args) {\n\t\tif(self.config['on_' + event]) {\n\t\t\tself.config['on_' + event].apply(null, args);\n\t\t}\n\t}\n\n\tinit();\n\n\treturn self;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Gantt.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?sourceMap!../node_modules/sass-loader/index.js?sourceMap!./gantt.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/gantt.scss\n ** module id = 1\n ** module chunks = 0\n **/","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gantt .grid-background {\\n  fill: none; }\\n\\n.gantt .grid-header {\\n  fill: #ffffff;\\n  stroke: #e0e0e0;\\n  stroke-width: 1.4; }\\n\\n.gantt .grid-row {\\n  fill: #ffffff; }\\n\\n.gantt .grid-row:nth-child(even) {\\n  fill: #f5f5f5; }\\n\\n.gantt .row-line {\\n  stroke: #ebeff2; }\\n\\n.gantt .row-line-project {\\n  stroke: #e0e0e0;\\n  stroke-width: 1.4; }\\n\\n.gantt .tick {\\n  stroke: #e0e0e0;\\n  stroke-width: 0.3; }\\n  .gantt .tick.thick {\\n    stroke-width: 0.4; }\\n\\n.gantt .tick-today, .gantt .tick-current, .gantt .tick-current-late {\\n  stroke-width: 1;\\n  opacity: 0.8;\\n  stroke-dasharray: 7; }\\n\\n.gantt .tick-today {\\n  stroke: #2ec12e; }\\n\\n.gantt .tick-current {\\n  stroke: #82b1f3; }\\n\\n.gantt .tick-current-late {\\n  stroke: #f1aa9e; }\\n\\n.gantt .today-highlight, .gantt .current-highlight, .gantt .current-highlight-late {\\n  opacity: 0.5; }\\n\\n.gantt .today-highlight {\\n  fill: #b9f3b9; }\\n\\n.gantt .current-highlight {\\n  fill: #82b1f3; }\\n\\n.gantt .current-highlight-late {\\n  fill: #f1aa9e; }\\n\\n.gantt #arrow {\\n  fill: none;\\n  stroke: #666;\\n  stroke-width: 1.4; }\\n\\n.gantt .bar {\\n  fill: #485f7d;\\n  stroke: #8D99A6;\\n  stroke-width: 0;\\n  transition: stroke-width .3s ease; }\\n\\n.gantt .bar-progress {\\n  fill: #b8c2cc; }\\n\\n.gantt .bar-invalid {\\n  fill: transparent;\\n  stroke: #8D99A6;\\n  stroke-width: 1;\\n  stroke-dasharray: 5; }\\n  .gantt .bar-invalid ~ .bar-label {\\n    fill: #555; }\\n\\n.gantt .bar-label {\\n  fill: #fff;\\n  dominant-baseline: central;\\n  text-anchor: middle;\\n  font-size: 12px;\\n  font-weight: lighter;\\n  letter-spacing: 0.8px; }\\n  .gantt .bar-label.big {\\n    fill: #555;\\n    text-anchor: start; }\\n\\n.gantt .handle {\\n  fill: #ddd;\\n  cursor: ew-resize;\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: opacity .3s ease; }\\n\\n.gantt .bar-wrapper {\\n  cursor: pointer; }\\n  .gantt .bar-wrapper:hover .bar {\\n    stroke-width: 2; }\\n  .gantt .bar-wrapper:hover .handle {\\n    visibility: visible;\\n    opacity: 1; }\\n  .gantt .bar-wrapper.active .bar {\\n    stroke-width: 2; }\\n\\n.gantt .lower-text, .gantt .upper-text {\\n  font-size: 12px;\\n  text-anchor: middle; }\\n\\n.gantt .upper-text {\\n  fill: #555; }\\n\\n.gantt .lower-text {\\n  fill: #333; }\\n\\n.gantt .project-text {\\n  fill: #555;\\n  text-anchor: middle; }\\n\\n.gantt #details .details-container {\\n  background: #fff;\\n  display: inline-block;\\n  padding: 12px; }\\n  .gantt #details .details-container h5, .gantt #details .details-container p {\\n    margin: 0; }\\n  .gantt #details .details-container h5 {\\n    font-size: 12px;\\n    font-weight: bold;\\n    margin-bottom: 10px;\\n    color: #555; }\\n  .gantt #details .details-container p {\\n    font-size: 12px;\\n    margin-bottom: 6px;\\n    color: #666; }\\n  .gantt #details .details-container p:last-child {\\n    margin-bottom: 0; }\\n\\n.gantt .hide {\\n  display: none; }\\n\\n.gantt .grid-project-row {\\n  fill: #f5f5f5; }\\n\\n.gantt .avatarContainer {\\n  height: 64px;\\n  display: flex;\\n  align-items: center;\\n  padding-right: 10px;\\n  float: left; }\\n\\n.gantt .avatar {\\n  height: 50px !important; }\\n\", \"\", {\"version\":3,\"sources\":[\"/home/f4103757/workspace/gantt/src/src/gantt.scss\"],\"names\":[],\"mappings\":\"AAmBA;EAGE,WAAU,EACV;;AAJF;EAME,cAAa;EACb,gBAvBoB;EAwBpB,kBAAiB,EACjB;;AATF;EAWE,cAAa,EACb;;AAZF;EAcE,cA7BgB,EA8BhB;;AAfF;EAiBE,gBA/B0B,EAgC1B;;AAlBF;EAoBE,gBApCoB;EAqCpB,kBAAiB,EACjB;;AAtBF;EAwBE,gBAxCoB;EAyCpB,kBAAiB,EAIjB;EA7BF;IA2BG,kBAAiB,EACjB;;AA5BH;EAgCE,gBAAe;EACf,aAAY;EACZ,oBAAmB,EACnB;;AAnCF;EAsCE,gBA1Ca,EA2Cb;;AAvCF;EA0CE,gBAjDkB,EAmDlB;;AA5CF;EA8CE,gBApDiB,EAqDjB;;AA/CF;EAkDE,aAAY,EACZ;;AAnDF;EAsDE,cAzDmB,EA0DnB;;AAvDF;EA0DE,cAjEkB,EAkElB;;AA3DF;EA8DE,cApEiB,EAqEjB;;AA/DF;EAkEE,WAAU;EACV,aA/Ee;EAgFf,kBAAiB,EACjB;;AArEF;EAwEE,cA1FiB;EA2FjB,gBA1FkB;EA2FlB,gBAAe;EACf,kCAAiC,EACjC;;AA5EF;EA8EE,cAvFY,EAwFZ;;AA/EF;EAiFE,kBAAiB;EACjB,gBAnGkB;EAoGlB,gBAAe;EACf,oBAAmB,EAKnB;EAzFF;IAuFG,WAlGc,EAmGd;;AAxFH;EA2FE,WAAU;EACV,2BAA0B;EAC1B,oBAAmB;EACnB,gBAAe;EACf,qBAAoB;EACpB,sBAAqB,EAMrB;EAtGF;IAmGG,WA9Gc;IA+Gd,mBAAkB,EAClB;;AArGH;EAyGE,WAtHiB;EAuHjB,kBAAiB;EACjB,WAAU;EACV,mBAAkB;EAClB,6BAA4B,EAC5B;;AA9GF;EAiHE,gBAAe,EAkBf;EAnIF;IAqHI,gBAAe,EACf;EAtHJ;IAyHI,oBAAmB;IACnB,WAAU,EACV;EA3HJ;IAgII,gBAAe,EACf;;AAjIJ;EAsIE,gBAAe;EACf,oBAAmB,EACnB;;AAxIF;EA0IE,WArJe,EAsJf;;AA3IF;EA6IE,WAvJe,EAwJf;;AA9IF;EAgJE,WA3Je;EA4Jf,oBAAmB,EACnB;;AAlJF;EAqJE,iBAAgB;EAChB,sBAAqB;EACrB,cAAa,EAsBb;EA7KF;IA0JG,UAAS,EACT;EA3JH;IA8JG,gBAAe;IACf,kBAAiB;IACjB,oBAAmB;IACnB,YA5Kc,EA6Kd;EAlKH;IAqKG,gBAAe;IACf,mBAAkB;IAClB,YAnLc,EAoLd;EAxKH;IA2KG,iBAAgB,EAChB;;AA5KH;EAgLE,cAAa,EACb;;AAjLF;EAoLE,cAnMgB,EAoMhB;;AArLF;EAwLE,aAAY;EACZ,cAAa;EACb,oBAAmB;EACnB,oBAAmB;EACnB,YAAW,EAEX;;AA9LF;EAgME,wBAAuB,EACvB\",\"file\":\"gantt.scss\",\"sourcesContent\":[\"// $bar-color: #b8c2cc;\\n$bar-color: #485f7d;\\n$bar-stroke: #8D99A6;\\n$border-color: #e0e0e0;\\n$light-bg: #f5f5f5;\\n$light-border-color: #ebeff2;\\n$handle-color: #ddd;\\n$text-muted: #666;\\n$text-light: #555;\\n$text-color: #333;\\n$grey: #b8c2cc;\\n$blue: #3887f3;\\n$light-blue: #82b1f3;\\n$light-red: #f1aa9e;\\n$light-yellow: #fcf8e3;\\n$green: #2ec12e;\\n$light-green: #b9f3b9;\\n\\n\\n.gantt {\\n\\n\\t.grid-background {\\n\\t\\tfill: none;\\n\\t}\\n\\t.grid-header {\\n\\t\\tfill: #ffffff;\\n\\t\\tstroke: $border-color;\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\t.grid-row {\\n\\t\\tfill: #ffffff;\\n\\t}\\n\\t.grid-row:nth-child(even) {\\n\\t\\tfill: $light-bg;\\n\\t}\\n\\t.row-line {\\n\\t\\tstroke: $light-border-color;\\t\\t\\n\\t}\\n\\t.row-line-project {\\t\\t\\n\\t\\tstroke: $border-color;\\t\\t\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\t.tick {\\n\\t\\tstroke: $border-color;\\n\\t\\tstroke-width: 0.3;\\n\\t\\t&.thick {\\n\\t\\t\\tstroke-width: 0.4;\\n\\t\\t}\\n\\t}\\n\\n\\t.tick-today, .tick-current, .tick-current-late {\\t\\t\\n\\t\\tstroke-width: 1;\\t\\n\\t\\topacity: 0.8;\\t\\n\\t\\tstroke-dasharray: 7;\\n\\t}\\n\\n\\t.tick-today {\\n\\t\\tstroke: $green;\\t\\t\\n\\t}\\n\\n\\t.tick-current {\\n\\t\\tstroke: $light-blue;\\n\\t\\t\\n\\t}\\n\\t.tick-current-late {\\n\\t\\tstroke: $light-red;\\n\\t}\\n\\n\\t.today-highlight, .current-highlight, .current-highlight-late{\\n\\t\\topacity: 0.5;\\n\\t}\\n\\n\\t.today-highlight {\\n\\t\\tfill: $light-green;\\t\\t\\n\\t}\\n\\n\\t.current-highlight {\\n\\t\\tfill: $light-blue;\\n\\t}\\n\\n\\t.current-highlight-late {\\n\\t\\tfill: $light-red;\\n\\t}\\n\\n\\t#arrow {\\n\\t\\tfill: none;\\n\\t\\tstroke: $text-muted;\\n\\t\\tstroke-width: 1.4;\\n\\t}\\n\\n\\t.bar {\\n\\t\\tfill: $bar-color;\\n\\t\\tstroke: $bar-stroke;\\n\\t\\tstroke-width: 0;\\n\\t\\ttransition: stroke-width .3s ease;\\n\\t}\\n\\t.bar-progress {\\n\\t\\tfill: $grey;\\n\\t}\\n\\t.bar-invalid {\\n\\t\\tfill: transparent;\\n\\t\\tstroke: $bar-stroke;\\n\\t\\tstroke-width: 1;\\n\\t\\tstroke-dasharray: 5;\\n\\n\\t\\t&~.bar-label {\\n\\t\\t\\tfill: $text-light;\\n\\t\\t}\\n\\t}\\n\\t.bar-label {\\n\\t\\tfill: #fff;\\n\\t\\tdominant-baseline: central;\\n\\t\\ttext-anchor: middle;\\n\\t\\tfont-size: 12px;\\n\\t\\tfont-weight: lighter;\\n\\t\\tletter-spacing: 0.8px;\\n\\n\\t\\t&.big {\\n\\t\\t\\tfill: $text-light;\\n\\t\\t\\ttext-anchor: start;\\n\\t\\t}\\n\\t}\\n\\n\\t.handle {\\n\\t\\tfill: $handle-color;\\n\\t\\tcursor: ew-resize;\\n\\t\\topacity: 0;\\n\\t\\tvisibility: hidden;\\n\\t\\ttransition: opacity .3s ease;\\n\\t}\\n\\n\\t.bar-wrapper {\\n\\t\\tcursor: pointer;\\n\\n\\t\\t&:hover {\\n\\t\\t\\t.bar {\\n\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t}\\n\\n\\t\\t\\t.handle {\\n\\t\\t\\t\\tvisibility: visible;\\n\\t\\t\\t\\topacity: 1;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t&.active {\\n\\t\\t\\t.bar {\\n\\t\\t\\t\\tstroke-width: 2;\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\\n\\t.lower-text, .upper-text {\\n\\t\\tfont-size: 12px;\\n\\t\\ttext-anchor: middle;\\n\\t}\\n\\t.upper-text {\\n\\t\\tfill: $text-light;\\n\\t}\\n\\t.lower-text {\\n\\t\\tfill: $text-color;\\n\\t}\\n\\t.project-text{\\n\\t\\tfill: $text-light;\\n\\t\\ttext-anchor: middle;\\n\\t}\\n\\n\\t#details .details-container {\\n\\t\\tbackground: #fff;\\n\\t\\tdisplay: inline-block;\\n\\t\\tpadding: 12px;\\n\\n\\t\\th5, p {\\n\\t\\t\\tmargin: 0;\\n\\t\\t}\\n\\n\\t\\th5 {\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tfont-weight: bold;\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t\\tcolor: $text-light;\\n\\t\\t}\\n\\n\\t\\tp {\\n\\t\\t\\tfont-size: 12px;\\n\\t\\t\\tmargin-bottom: 6px;\\n\\t\\t\\tcolor: $text-muted;\\n\\t\\t}\\n\\n\\t\\tp:last-child {\\n\\t\\t\\tmargin-bottom: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t.hide {\\n\\t\\tdisplay: none;\\n\\t}\\n\\n\\t.grid-project-row {\\n\\t\\tfill: $light-bg;\\n\\t}\\n\\n\\t.avatarContainer{\\n\\t\\theight: 64px;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tpadding-right: 10px;\\n\\t\\tfloat: left;\\n\\t\\t\\n\\t}\\n\\t.avatar{\\n\\t\\theight: 50px !important;\\n\\t}\\t\\n\\t\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?sourceMap!./~/sass-loader?sourceMap!./src/gantt.scss\n ** module id = 2\n ** module chunks = 0\n **/","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 3\n ** module chunks = 0\n **/","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === \"top\") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === \"bottom\") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement(\"style\");\n\tstyleElement.type = \"text/css\";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement(\"link\");\n\tlinkElement.rel = \"stylesheet\";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute(\"media\", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 4\n ** module chunks = 0\n **/","/* global moment, Snap */\n/*\n\tClass: Bar\n\n\tOpts:\n\t\tgt: Gantt object\n\t\ttask: task object\n*/\n\nimport './gantt.scss';\n\nexport default function Bar(gt, task) {\n\n\tconst self = {};\n\n\tfunction init() {\n\t\tset_defaults();\n\t\tprepare();\n\t\tdraw();\n\t\tbind();\n\t}\n\n\tfunction set_defaults() {\n\t\tself.action_completed = false;\n\t\tself.task = task;\n\t}\n\n\tfunction prepare() {\n\t\tprepare_values();\n\t\tprepare_plugins();\n\t}\n\n\tfunction prepare_values() {\n\t\tself.invalid = self.task.invalid;\n\t\tself.height = gt.config.bar.height;\n\t\tself.x = compute_x();\n\t\tself.y = compute_y();\n\t\tself.corner_radius = 3;\n\t\tself.duration = (self.task._end.diff(self.task._start, 'hours') + 24) / gt.config.step;\n\t\tself.durationDays = (self.task._end.diff(self.task._start, 'days') + 1);\n\t\tself.width = gt.config.column_width * self.duration;\n\t\tself.progress_width = gt.config.column_width * self.duration * (self.task.progress / 100) || 0;\n\t\tself.group = gt.canvas.group().addClass('bar-wrapper').addClass(self.task.custom_class || '');\n\t\tself.bar_group = gt.canvas.group().addClass('bar-group').appendTo(self.group);\n\t\tself.handle_group = gt.canvas.group().addClass('handle-group').appendTo(self.group);\n\t}\n\n\tfunction prepare_plugins() {\n\t\tSnap.plugin(function (Snap, Element, Paper, global, Fragment) {\n\t\t\tElement.prototype.getX = function () {\n\t\t\t\treturn +this.attr('x');\n\t\t\t};\n\t\t\tElement.prototype.getY = function () {\n\t\t\t\treturn +this.attr('y');\n\t\t\t};\n\t\t\tElement.prototype.getWidth = function () {\n\t\t\t\treturn +this.attr('width');\n\t\t\t};\n\t\t\tElement.prototype.getHeight = function () {\n\t\t\t\treturn +this.attr('height');\n\t\t\t};\n\t\t\tElement.prototype.getEndX = function () {\n\t\t\t\treturn this.getX() + this.getWidth();\n\t\t\t};\n\t\t});\n\t}\n\n\tfunction draw() {\n\t\tdraw_bar();\n\t\tdraw_progress_bar();\n\t\tdraw_label();\n\t\tdraw_resize_handles();\n\t}\n\n\tfunction draw_bar() {\n\t\tself.$bar = gt.canvas.rect(self.x, self.y,\n\t\t\tself.width, self.height,\n\t\t\tself.corner_radius, self.corner_radius)\n\t\t\t.addClass('bar')\n\t\t\t.appendTo(self.bar_group);\n\t\tif (self.invalid) {\n\t\t\tself.$bar.addClass('bar-invalid');\n\t\t}\n\t}\n\n\tfunction draw_progress_bar() {\n\t\tif (self.invalid) return;\n\t\tself.$bar_progress = gt.canvas.rect(self.x, self.y,\n\t\t\tself.progress_width, self.height,\n\t\t\tself.corner_radius, self.corner_radius)\n\t\t\t.addClass('bar-progress')\n\t\t\t.appendTo(self.bar_group);\n\t}\n\n\tfunction draw_label() {\n\t\tgt.canvas.text(self.x + self.width / 2,\n\t\t\tself.y + self.height / 2,\n\t\t\tself.task.name)\n\t\t\t.addClass('bar-label')\n\t\t\t.appendTo(self.bar_group);\n\t\tupdate_label_position();\n\t}\n\n\tfunction draw_resize_handles() {\n\t\tif (self.invalid) return;\n\n\t\tconst bar = self.$bar,\n\t\t\thandle_width = 8;\n\n\t\tgt.canvas.rect(bar.getX() + bar.getWidth() - 9, bar.getY() + 1,\n\t\t\thandle_width, self.height - 2, self.corner_radius, self.corner_radius)\n\t\t\t.addClass('handle right')\n\t\t\t.appendTo(self.handle_group);\n\t\tgt.canvas.rect(bar.getX() + 1, bar.getY() + 1,\n\t\t\thandle_width, self.height - 2, self.corner_radius, self.corner_radius)\n\t\t\t.addClass('handle left')\n\t\t\t.appendTo(self.handle_group);\n\n\t\tif (self.task.progress && self.task.progress < 100) {\n\t\t\tgt.canvas.polygon(get_progress_polygon_points())\n\t\t\t\t.addClass('handle progress')\n\t\t\t\t.appendTo(self.handle_group);\n\t\t}\n\t}\n\n\tfunction get_progress_polygon_points() {\n\t\tconst bar_progress = self.$bar_progress;\n\t\treturn [\n\t\t\tbar_progress.getEndX() - 5, bar_progress.getY() + bar_progress.getHeight(),\n\t\t\tbar_progress.getEndX() + 5, bar_progress.getY() + bar_progress.getHeight(),\n\t\t\tbar_progress.getEndX(), bar_progress.getY() + bar_progress.getHeight() - 8.66\n\t\t];\n\t}\n\n\tfunction bind() {\n\t\tif (self.invalid) return;\n\t\tsetup_click_event();\n\t\tshow_details();\n\t\tbind_resize();\n\t\tbind_drag();\n\t\tbind_resize_progress();\n\t}\n\n\tfunction show_details() {\n\t\tconst popover_group = gt.element_groups.details;\n\t\tself.details_box = popover_group\n\t\t\t.select(`.details-wrapper[data-task='${self.task.id}']`);\n\n\t\tif (!self.details_box) {\n\t\t\tself.details_box = gt.canvas.group()\n\t\t\t\t.addClass('details-wrapper hide')\n\t\t\t\t.attr('data-task', self.task.id)\n\t\t\t\t.appendTo(popover_group);\n\n\t\t\trender_details();\n\n\t\t\tconst f = gt.canvas.filter(\n\t\t\t\tSnap.filter.shadow(0, 1, 1, '#666', 0.6));\n\t\t\tself.details_box.attr({\n\t\t\t\tfilter: f\n\t\t\t});\n\t\t}\n\n\t\tself.group.click((e) => {\n\t\t\tif (self.action_completed) {\n\t\t\t\t// just finished a move action, wait for a few seconds\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tpopover_group.selectAll('.details-wrapper')\n\t\t\t\t.forEach(el => el.addClass('hide'));\n\t\t\tself.details_box.removeClass('hide');\n\t\t});\n\t}\n\n\tfunction render_details() {\n\t\tconst {x, y} = get_details_position();\n\t\tself.details_box.transform(`t${x},${y}`);\n\t\tself.details_box.clear();\n\n\t\tconst html = get_details_html();\n\t\tconst foreign_object =\n\t\t\tSnap.parse(`<foreignObject width=\"5000\" height=\"2000\">\n\t\t\t\t<body xmlns=\"http://www.w3.org/1999/xhtml\">\n\t\t\t\t\t${html}\n\t\t\t\t</body>\n\t\t\t\t</foreignObject>`);\n\t\tself.details_box.append(foreign_object);\n\t}\n\n\tfunction get_details_html() {\n\n\t\t// custom html in config\n\t\tif(gt.config.custom_popup_html) {\n\t\t\tconst html = gt.config.custom_popup_html;\n\t\t\tif(typeof html === 'string') {\n\t\t\t\treturn html;\n\t\t\t}\n\t\t\tif(isFunction(html)) {\n\t\t\t\treturn html(task);\n\t\t\t}\n\t\t}\n\n\t\t// const start_date = self.task._start.format('DD/MM/YYYY');\n\t\t// const end_date = self.task._end.format('DD/MM/YYYY');\n\t\tconst heading = `${self.task.name}`;\n\n\t\tconst line_1 = `Durao: ${self.durationDays} dias`;\n\t\tconst line_2 = self.task.progress ? `Percentual: ${self.task.progress}%` : null;\n\n\t\tlet periodos = '';\n\t\tself.task.periodos.forEach(periodo =>{\n\n\t\t\tconst tipo = periodo.tipo.nome;\n\t\t\tconst dataInicio = moment(periodo.dataInicio).format('DD/MM/YYYY');\n\t\t\tconst dataFim = moment(periodo.dataFim).format('DD/MM/YYYY');\n\n\t\t\tperiodos = periodos.concat(`\n\t\t\t\t<p>${tipo}: ${dataInicio} - ${dataFim}</p>\n\t\t\t\t`);\n\t\t});\n\n\t\tlet responsaveis = '';\n\t\tself.task.responsaveis.forEach((responsavel, i) =>{\n\n\t\t\tconst chave = responsavel.responsavel.chave;\n\t\t\tconst nome = responsavel.responsavel.nome;\n\t\t\tconst ramal = responsavel.responsavel.telefone;\n\t\t\tconst celular = responsavel.responsavel.celular;\n\t\t\tconst link = `https://connections.bb.com.br/profiles/html/myProfileView.do?uid=${chave}`;\n\t\t\tresponsaveis = responsaveis.concat(`\n\t\t\t\t${ i !== 0 ? `<hr />` : ``}\n\t\t\t\t<a href=${link} target=\"_blank\" class=\"avatarContainer\">\n\t\t\t\t\t<img src=https://connections.bb.com.br/profiles/photo.do?uid=${chave} class=\"avatar\" />\n\t\t\t\t</a>\n\t\t\t\t<p>${chave} - ${nome}</p>\n\t\t\t\t<p>Ramal: ${ramal}</p>\n\t\t\t\t<p>Celular: ${celular}</p>\n\t\t\t\t`);\n\t\t});\n\n\t\tlet uors = '';\n\t\tself.task.uors.forEach(uor =>{\n\n\t\t\tconst nome = uor.uor.nomeReduzido;\n\n\t\t\tuors = uors.concat(`\n\t\t\t\t<a href=\"https://humanograma.intranet.bb.com.br/uor/${uor.uor_id}\" target=\"_blank\">\n\t\t\t\t\t<p>${nome}</p>\n\t\t\t\t</a>\n\t\t\t\t`);\n\t\t});\n\n\t\tconst html = `\n\t\t\t<div class=\"details-container\">\n\t\t\t\t<h5>${heading}</h5>\n\t\t\t\t<p>${line_1}</p>\n\t\t\t\t${\n\t\t\t\t\tline_2 ? `<p>${line_2}</p>` : ''\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tperiodos ? `\n\t\t\t\t\t<br />\n\t\t\t\t\t<h5>Datas:</h5>\n\t\t\t\t\t${periodos}\n\t\t\t\t\t` : ''\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tuors ? `\n\t\t\t\t\t<br />\n\t\t\t\t\t<h5>rea(s):</h5>\n\t\t\t\t\t${uors}\n\t\t\t\t\t` : ''\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tresponsaveis ? `\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<h5>Contato(s):</h5>\n\t\t\t\t\t\t${responsaveis}\n\t\t\t\t\t\t` : ''\n\t\t\t\t}\n\t\t\t</div>\n\t\t`;\n\t\treturn html;\n\t}\n\n\tfunction get_details_position() {\n\t\treturn {\n\t\t\tx: self.$bar.getEndX() + 2,\n\t\t\ty: self.$bar.getY() - 10\n\t\t};\n\t}\n\n\tfunction bind_resize() {\n\t\tconst { left, right } = get_handles();\n\n\t\tleft.drag(onmove_left, onstart, onstop_left);\n\t\tright.drag(onmove_right, onstart, onstop_right);\n\n\t\tfunction onmove_right(dx, dy) {\n\t\t\tonmove_handle_right(dx, dy);\n\t\t}\n\t\tfunction onstop_right() {\n\t\t\tonstop_handle_right();\n\t\t}\n\n\t\tfunction onmove_left(dx, dy) {\n\t\t\tonmove_handle_left(dx, dy);\n\t\t}\n\t\tfunction onstop_left() {\n\t\t\tonstop_handle_left();\n\t\t}\n\t}\n\n\tfunction get_handles() {\n\t\treturn {\n\t\t\tleft: self.handle_group.select('.handle.left'),\n\t\t\tright: self.handle_group.select('.handle.right')\n\t\t};\n\t}\n\n\tfunction bind_drag() {\n\t\tself.bar_group.drag(onmove, onstart, onstop);\n\t}\n\n\tfunction bind_resize_progress() {\n\t\tconst bar = self.$bar,\n\t\t\tbar_progress = self.$bar_progress,\n\t\t\thandle = self.group.select('.handle.progress');\n\t\thandle && handle.drag(on_move, on_start, on_stop);\n\n\t\tfunction on_move(dx, dy) {\n\t\t\tif (dx > bar_progress.max_dx) {\n\t\t\t\tdx = bar_progress.max_dx;\n\t\t\t}\n\t\t\tif (dx < bar_progress.min_dx) {\n\t\t\t\tdx = bar_progress.min_dx;\n\t\t\t}\n\n\t\t\tbar_progress.attr('width', bar_progress.owidth + dx);\n\t\t\thandle.attr('points', get_progress_polygon_points());\n\t\t\tbar_progress.finaldx = dx;\n\t\t}\n\t\tfunction on_stop() {\n\t\t\tif (!bar_progress.finaldx) return;\n\t\t\tprogress_changed();\n\t\t\tset_action_completed();\n\t\t}\n\t\tfunction on_start() {\n\t\t\tbar_progress.finaldx = 0;\n\t\t\tbar_progress.owidth = bar_progress.getWidth();\n\t\t\tbar_progress.min_dx = -bar_progress.getWidth();\n\t\t\tbar_progress.max_dx = bar.getWidth() - bar_progress.getWidth();\n\t\t}\n\t}\n\n\tfunction onstart() {\n\t\tconst bar = self.$bar;\n\t\tbar.ox = bar.getX();\n\t\tbar.oy = bar.getY();\n\t\tbar.owidth = bar.getWidth();\n\t\tbar.finaldx = 0;\n\t\trun_method_for_dependencies('onstart');\n\t}\n\tself.onstart = onstart;\n\n\tfunction onmove(dx, dy) {\n\t\tconst bar = self.$bar;\n\t\tbar.finaldx = get_snap_position(dx);\n\t\tupdate_bar_position({x: bar.ox + bar.finaldx});\n\t\trun_method_for_dependencies('onmove', [dx, dy]);\n\t}\n\tself.onmove = onmove;\n\n\tfunction onstop() {\n\t\tconst bar = self.$bar;\n\t\tif (!bar.finaldx) return;\n\t\tdate_changed();\n\t\tset_action_completed();\n\t\trun_method_for_dependencies('onstop');\n\t}\n\tself.onstop = onstop;\n\n\tfunction onmove_handle_left(dx, dy) {\n\t\tconst bar = self.$bar;\n\t\tbar.finaldx = get_snap_position(dx);\n\t\tupdate_bar_position({\n\t\t\tx: bar.ox + bar.finaldx,\n\t\t\twidth: bar.owidth - bar.finaldx\n\t\t});\n\t\trun_method_for_dependencies('onmove', [dx, dy]);\n\t}\n\tself.onmove_handle_left = onmove_handle_left;\n\n\tfunction onstop_handle_left() {\n\t\tconst bar = self.$bar;\n\t\tif (bar.finaldx) date_changed();\n\t\tset_action_completed();\n\t\trun_method_for_dependencies('onstop');\n\t}\n\tself.onstop_handle_left = onstop_handle_left;\n\n\tfunction run_method_for_dependencies(fn, args) {\n\t\tconst dm = gt.dependency_map;\n\t\tif (dm[self.task.id]) {\n\t\t\tfor (let deptask of dm[self.task.id]) {\n\t\t\t\tconst dt = gt.get_bar(deptask);\n\t\t\t\tdt[fn].apply(dt, args);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onmove_handle_right(dx, dy) {\n\t\tconst bar = self.$bar;\n\t\tbar.finaldx = get_snap_position(dx);\n\t\tupdate_bar_position({width: bar.owidth + bar.finaldx});\n\t}\n\n\tfunction onstop_handle_right() {\n\t\tconst bar = self.$bar;\n\t\tif (bar.finaldx) date_changed();\n\t\tset_action_completed();\n\t}\n\n\tfunction update_bar_position({x = null, width = null}) {\n\t\tconst bar = self.$bar;\n\t\tif (x) {\n\t\t\t// get all x values of parent task\n\t\t\tconst xs = task.dependencies.map(dep => {\n\t\t\t\treturn gt.get_bar(dep).$bar.getX();\n\t\t\t});\n\t\t\t// child task must not go before parent\n\t\t\tconst valid_x = xs.reduce((prev, curr) => {\n\t\t\t\treturn x >= curr;\n\t\t\t}, x);\n\t\t\tif(!valid_x) {\n\t\t\t\twidth = null;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tupdate_attr(bar, 'x', x);\n\t\t}\n\t\tif (width && width >= gt.config.column_width) {\n\t\t\tupdate_attr(bar, 'width', width);\n\t\t}\n\t\tupdate_label_position();\n\t\tupdate_handle_position();\n\t\tupdate_progressbar_position();\n\t\tupdate_arrow_position();\n\t\tupdate_details_position();\n\t}\n\n\tfunction setup_click_event() {\n\t\tself.group.click(function () {\n\t\t\tif (self.action_completed) {\n\t\t\t\t// just finished a move action, wait for a few seconds\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (self.group.hasClass('active')) {\n\t\t\t\tgt.trigger_event('click', [self.task]);\n\t\t\t}\n\t\t\tgt.unselect_all();\n\t\t\tself.group.toggleClass('active');\n\t\t});\n\t}\n\n\tfunction date_changed() {\n\t\tconst { new_start_date, new_end_date } = compute_start_end_date();\n\t\tself.task._start = new_start_date;\n\t\tself.task._end = new_end_date;\n\t\trender_details();\n\t\tgt.trigger_event('date_change',\n\t\t\t[self.task, new_start_date, new_end_date]);\n\t}\n\n\tfunction progress_changed() {\n\t\tconst new_progress = compute_progress();\n\t\tself.task.progress = new_progress;\n\t\trender_details();\n\t\tgt.trigger_event('progress_change',\n\t\t\t[self.task, new_progress]);\n\t}\n\n\tfunction set_action_completed() {\n\t\tself.action_completed = true;\n\t\tsetTimeout(() => self.action_completed = false, 2000);\n\t}\n\n\tfunction compute_start_end_date() {\n\t\tconst bar = self.$bar;\n\t\tconst x_in_units = bar.getX() / gt.config.column_width;\n\t\tconst new_start_date = gt.gantt_start.clone().add(x_in_units * gt.config.step, 'hours');\n\t\tconst width_in_units = bar.getWidth() / gt.config.column_width;\n\t\tconst new_end_date = new_start_date.clone().add(width_in_units * gt.config.step, 'hours');\n\t\t// lets say duration is 2 days\n\t\t// start_date = May 24 00:00:00\n\t\t// end_date = May 24 + 2 days = May 26 (incorrect)\n\t\t// so subtract 1 second so that\n\t\t// end_date = May 25 23:59:59\n\t\tnew_end_date.add('-1', 'seconds');\n\t\treturn { new_start_date, new_end_date };\n\t}\n\n\tfunction compute_progress() {\n\t\tconst progress = self.$bar_progress.getWidth() / self.$bar.getWidth() * 100;\n\t\treturn parseInt(progress, 10);\n\t}\n\n\tfunction compute_x() {\n\t\tlet x = self.task._start.diff(gt.gantt_start, 'hours') /\n\t\t\tgt.config.step * gt.config.column_width;\n\n\t\tif (gt.view_is('Month')) {\n\t\t\tx = self.task._start.diff(gt.gantt_start, 'days') *\n\t\t\t\tgt.config.column_width / 30;\n\t\t}\n\t\treturn x + gt.config.left_width;\n\t}\n\n\tfunction compute_y() {\n\t\treturn gt.config.header_height + gt.config.padding +\n\t\t\tself.task._line * (self.height + gt.config.padding);\n\t}\n\n\tfunction get_snap_position(dx) {\n\t\tlet odx = dx, rem, position;\n\n\t\tif (gt.view_is('Week')) {\n\t\t\trem = dx % (gt.config.column_width / 7);\n\t\t\tposition = odx - rem +\n\t\t\t\t((rem < gt.config.column_width / 14) ? 0 : gt.config.column_width / 7);\n\t\t} else if (gt.view_is('Month')) {\n\t\t\trem = dx % (gt.config.column_width / 30);\n\t\t\tposition = odx - rem +\n\t\t\t\t((rem < gt.config.column_width / 60) ? 0 : gt.config.column_width / 30);\n\t\t} else {\n\t\t\trem = dx % gt.config.column_width;\n\t\t\tposition = odx - rem +\n\t\t\t\t((rem < gt.config.column_width / 2) ? 0 : gt.config.column_width);\n\t\t}\n\t\treturn position;\n\t}\n\n\tfunction update_attr(element, attr, value) {\n\t\tvalue = +value;\n\t\tif (!isNaN(value)) {\n\t\t\telement.attr(attr, value);\n\t\t}\n\t\treturn element;\n\t}\n\n\tfunction update_progressbar_position() {\n\t\tself.$bar_progress.attr('x', self.$bar.getX());\n\t\tself.$bar_progress.attr('width', self.$bar.getWidth() * (self.task.progress / 100));\n\t}\n\n\tfunction update_label_position() {\n\t\tconst bar = self.$bar,\n\t\t\tlabel = self.group.select('.bar-label');\n\t\tif (label.getBBox().width > bar.getWidth()) {\n\t\t\tlabel.addClass('big').attr('x', bar.getX() + bar.getWidth() + 5);\n\t\t} else {\n\t\t\tlabel.removeClass('big').attr('x', bar.getX() + bar.getWidth() / 2);\n\t\t}\n\t}\n\n\tfunction update_handle_position() {\n\t\tconst bar = self.$bar;\n\t\tself.handle_group.select('.handle.left').attr({\n\t\t\t'x': bar.getX() + 1\n\t\t});\n\t\tself.handle_group.select('.handle.right').attr({\n\t\t\t'x': bar.getEndX() - 9\n\t\t});\n\t\tconst handle = self.group.select('.handle.progress');\n\t\thandle && handle.attr('points', get_progress_polygon_points());\n\t}\n\n\tfunction update_arrow_position() {\n\t\tfor (let arrow of self.arrows) {\n\t\t\tarrow.update();\n\t\t}\n\t}\n\n\tfunction update_details_position() {\n\t\tconst {x, y} = get_details_position();\n\t\tself.details_box && self.details_box.transform(`t${x},${y}`);\n\t}\n\n\tfunction isFunction(functionToCheck) {\n\t\tvar getType = {};\n\t\treturn functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n\t}\n\n\tinit();\n\n\treturn self;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Bar.js\n **/","/* global Snap */\n/*\n\tClass: Arrow\n\tfrom_task ---> to_task\n\n\tOpts:\n\t\tgantt (Gantt object)\n\t\tfrom_task (Bar object)\n\t\tto_task (Bar object)\n*/\n\nexport default function Arrow(gt, from_task, to_task) {\n\n\tconst self = {};\n\n\tfunction init() {\n\t\tself.from_task = from_task;\n\t\tself.to_task = to_task;\n\t\tprepare();\n\t\tdraw();\n\t}\n\n\tfunction prepare() {\n\n\t\tself.start_x = from_task.$bar.getX() + from_task.$bar.getWidth() / 2;\n\n\t\tconst condition = () =>\n\t\t\tto_task.$bar.getX() < self.start_x + gt.config.padding &&\n\t\t\t\tself.start_x > from_task.$bar.getX() + gt.config.padding;\n\n\t\twhile(condition()) {\n\t\t\tself.start_x -= 10;\n\t\t}\n\n\t\tself.start_y = gt.config.header_height + gt.config.bar.height +\n\t\t\t(gt.config.padding + gt.config.bar.height) * from_task.task._line +\n\t\t\tgt.config.padding;\n\n\t\tself.end_x = to_task.$bar.getX() - gt.config.padding / 2;\n\t\tself.end_y = gt.config.header_height + gt.config.bar.height / 2 +\n\t\t\t(gt.config.padding + gt.config.bar.height) * to_task.task._line +\n\t\t\tgt.config.padding;\n\n\t\tconst from_is_below_to = (from_task.task._line > to_task.task._line);\n\t\tself.curve = gt.config.arrow.curve;\n\t\tself.clockwise = from_is_below_to ? 1 : 0;\n\t\tself.curve_y = from_is_below_to ? -self.curve : self.curve;\n\t\tself.offset = from_is_below_to ?\n\t\t\tself.end_y + gt.config.arrow.curve :\n\t\t\tself.end_y - gt.config.arrow.curve;\n\n\t\tself.path =\n\t\t\tSnap.format('M {start_x} {start_y} V {offset} ' +\n\t\t\t\t'a {curve} {curve} 0 0 {clockwise} {curve} {curve_y} ' +\n\t\t\t\t'L {end_x} {end_y} m -5 -5 l 5 5 l -5 5',\n\t\t\t\t{\n\t\t\t\t\tstart_x: self.start_x,\n\t\t\t\t\tstart_y: self.start_y,\n\t\t\t\t\tend_x: self.end_x,\n\t\t\t\t\tend_y: self.end_y,\n\t\t\t\t\toffset: self.offset,\n\t\t\t\t\tcurve: self.curve,\n\t\t\t\t\tclockwise: self.clockwise,\n\t\t\t\t\tcurve_y: self.curve_y\n\t\t\t\t});\n\n\t\tif(to_task.$bar.getX() < from_task.$bar.getX() + gt.config.padding) {\n\t\t\tself.path =\n\t\t\t\tSnap.format('M {start_x} {start_y} v {down_1} ' +\n\t\t\t\t'a {curve} {curve} 0 0 1 -{curve} {curve} H {left} ' +\n\t\t\t\t'a {curve} {curve} 0 0 {clockwise} -{curve} {curve_y} V {down_2} ' +\n\t\t\t\t'a {curve} {curve} 0 0 {clockwise} {curve} {curve_y} ' +\n\t\t\t\t'L {end_x} {end_y} m -5 -5 l 5 5 l -5 5',\n\t\t\t\t\t{\n\t\t\t\t\t\tstart_x: self.start_x,\n\t\t\t\t\t\tstart_y: self.start_y,\n\t\t\t\t\t\tend_x: self.end_x,\n\t\t\t\t\t\tend_y: self.end_y,\n\t\t\t\t\t\tdown_1: gt.config.padding / 2 - self.curve,\n\t\t\t\t\t\tdown_2: to_task.$bar.getY() + to_task.$bar.getHeight() / 2 - self.curve_y,\n\t\t\t\t\t\tleft: to_task.$bar.getX() - gt.config.padding,\n\t\t\t\t\t\toffset: self.offset,\n\t\t\t\t\t\tcurve: self.curve,\n\t\t\t\t\t\tclockwise: self.clockwise,\n\t\t\t\t\t\tcurve_y: self.curve_y\n\t\t\t\t\t});\n\t\t}\n\t}\n\n\tfunction draw() {\n\t\tself.element = gt.canvas.path(self.path)\n\t\t\t.attr('data-from', self.from_task.task.id)\n\t\t\t.attr('data-to', self.to_task.task.id);\n\t}\n\n\tfunction update() { // eslint-disable-line\n\t\tprepare();\n\t\tself.element.attr('d', self.path);\n\t}\n\tself.update = update;\n\n\tinit();\n\n\treturn self;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/Arrow.js\n **/"],"sourceRoot":""}